<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>pycommons.strings package — pycommons 0.8.89 documentation</title><link href="/pycommons/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/pycommons/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/pycommons/_static/documentation_options.js?v=4db5eb0a"></script><script src="/pycommons/_static/doctools.js?v=fd6eb6e6"></script><script src="/pycommons/_static/sphinx_highlight.js?v=6ffebe34"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/pycommons/pycommons.strings.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="pycommons.processes package"href=pycommons.processes.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.processes package"accesskey=P href=pycommons.processes.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.89 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a accesskey=U href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-this"><a href>pycommons.strings package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-pycommons.strings><span id=pycommons-strings-package></span><h1>pycommons.strings package<a title="Link to this heading"class=headerlink href=#module-pycommons.strings>¶</a></h1><p>Common string handling routines.<section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-pycommons.strings.chars><span id=pycommons-strings-chars-module></span><h2>pycommons.strings.chars module<a title="Link to this heading"class=headerlink href=#module-pycommons.strings.chars>¶</a></h2><p>Constants for common characters.<dl class="py data"><dt class="sig sig-object py"id=pycommons.strings.chars.NBDASH><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>NBDASH</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'‑'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.NBDASH>¶</a><dd><p>A non-breaking hyphen</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.strings.chars.NBSP><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>NBSP</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'\xa0'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.NBSP>¶</a><dd><p>A constant for non-breaking space</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.strings.chars.NEWLINE><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>NEWLINE</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'\n\r\x85\u2028\u2029'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.NEWLINE>¶</a><dd><p>A regular expression matching all characters that are non-line breaking white space.</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.strings.chars.WHITESPACE><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>WHITESPACE</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'\t\x0b\x0c</span> <span class=pre>\xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.WHITESPACE>¶</a><dd><p>A regular expression matching all characters that are non-line breaking white space.</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.strings.chars.WHITESPACE_OR_NEWLINE><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>WHITESPACE_OR_NEWLINE</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'\t\n\x0b\x0c\r</span> <span class=pre>\x85\xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.WHITESPACE_OR_NEWLINE>¶</a><dd><p>A regular expression matching any white space or newline character.</p></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.chars.subscript><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>subscript</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>s</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/chars.html#subscript><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.subscript>¶</a><dd><p>Transform a string into Unicode-based subscript.</p> <p>All characters that can be represented as subscript in unicode will be translated to subscript. Notice that only a subset of the latin characters can be converted to unicode subscript. If any character cannot be translated, it will raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#KeyError><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyError</span></code></a>. White space is preserved.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>s</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string in subscript</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#KeyError><strong>KeyError</strong></a> – if a character cannot be converted<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>s</cite> is not a string</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>subscript</span><span class=p>(</span><span class=s2>"a0= 4(e)"</span><span class=p>)</span>
<span class=go>'ₐ₀₌ ₄₍ₑ₎'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>subscript</span><span class=p>(</span><span class=s2>"a0=4(e)Y"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>ke</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ke</span><span class=p>)</span>
<span class=go>'Y'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>subscript</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__iter__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>superscript</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__iter__' requires a 'str' object but received a 'int'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.chars.superscript><span class="sig-prename descclassname"><span class=pre>pycommons.strings.chars.</span></span><span class="sig-name descname"><span class=pre>superscript</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>s</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/chars.html#superscript><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.chars.superscript>¶</a><dd><p>Transform a string into Unicode-based superscript.</p> <p>All characters that can be represented as superscript in unicode will be translated to superscript. Notice that only a subset of the latin characters can be converted to unicode superscropt. If any character cannot be translated, it will raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#KeyError><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyError</span></code></a>. White space is preserved.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>s</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string in subscript</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#KeyError><strong>KeyError</strong></a> – if a character cannot be converted<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>s</cite> is not a string</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>superscript</span><span class=p>(</span><span class=s2>"a0 =4(e)"</span><span class=p>)</span>
<span class=go>'ᵃ⁰ ⁼⁴⁽ᵉ⁾'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>superscript</span><span class=p>(</span><span class=s2>"a0=4(e)Y"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>ke</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ke</span><span class=p>)</span>
<span class=go>'Y'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>superscript</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__iter__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>superscript</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__iter__' requires a 'str' object but received a 'int'</span>
</pre></div></div></dl></section><section id=module-pycommons.strings.enforce><span id=pycommons-strings-enforce-module></span><h2>pycommons.strings.enforce module<a title="Link to this heading"class=headerlink href=#module-pycommons.strings.enforce>¶</a></h2><p>Routines for checking whether a value is a non-empty string w/o spaces.<dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.enforce.enforce_non_empty_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.enforce.</span></span><span class="sig-name descname"><span class=pre>enforce_non_empty_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/enforce.html#enforce_non_empty_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.enforce.enforce_non_empty_str>¶</a><dd><p>Enforce that a text is a non-empty string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a></span>) – the value to be checked whether it is a non-empty string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the value, but as type <cite>str</cite></p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a <cite>str</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is empty</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>enforce_non_empty_str</span><span class=p>(</span><span class=s2>"1"</span><span class=p>)</span>
<span class=go>'1'</span>
<span class=gp>>>> </span><span class=n>enforce_non_empty_str</span><span class=p>(</span><span class=s2>" 1 1 "</span><span class=p>)</span>
<span class=go>' 1 1 '</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Non-empty str expected, but got empty string.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.enforce.enforce_non_empty_str_without_ws><span class="sig-prename descclassname"><span class=pre>pycommons.strings.enforce.</span></span><span class="sig-name descname"><span class=pre>enforce_non_empty_str_without_ws</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/enforce.html#enforce_non_empty_str_without_ws><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.enforce.enforce_non_empty_str_without_ws>¶</a><dd><p>Enforce that a text is a non-empty string without white space.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a></span>) – the value to be checked whether it is a non-empty string without any white space</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the value, but as type <cite>str</cite></p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a <cite>str</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is empty or contains any white space characters</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=s2>"1"</span><span class=p>)</span>
<span class=go>'1'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=s2>" 1 1 "</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>No white space allowed in string, but got ' 1 1 '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=s2>"a</span><span class=se>\t</span><span class=s2>b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>No white space allowed in string, but got 'a\tb'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=s2>"012345678901234567890 12345678"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>No white space allowed in string, but got '012345678901234567890 12345678'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span>
<span class=gp>... </span>        <span class=s2>"012345678901234567890 1234567801234567890123456789012345678"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=mi>10</span><span class=p>:])</span>
<span class=go>pace allowed in string, but got '012345678901234567890 12345678...'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Non-empty str expected, but got empty string.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>enforce_non_empty_str_without_ws</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div></dl></section><section id=module-pycommons.strings.string_conv><span id=pycommons-strings-string-conv-module></span><h2>pycommons.strings.string_conv module<a title="Link to this heading"class=headerlink href=#module-pycommons.strings.string_conv>¶</a></h2><p>Converting stuff to and from strings.<dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.bool_or_num_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>bool_or_num_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#bool_or_num_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.bool_or_num_to_str>¶</a><dd><p>Convert a <cite>bool</cite> or number to string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>) – the number or <cite>bool</cite></p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the number is neither <cite>bool</cite>, <cite>float</cite>, or <cite>int</cite>.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
<span class=go>'T'</span>
<span class=gp>>>> </span><span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
<span class=go>'F'</span>
<span class=gp>>>> </span><span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=mf>12.0</span><span class=p>)</span>
<span class=go>'12'</span>
<span class=gp>>>> </span><span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span>
<span class=go>'12'</span>
<span class=gp>>>> </span><span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=mf>12.5</span><span class=p>)</span>
<span class=go>'12.5'</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>bool_or_num_to_str</span><span class=p>(</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of float but is str, namely 'x'.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.bool_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>bool_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#bool_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.bool_to_str>¶</a><dd><p>Convert a Boolean value to a string.</p> <p>This function is the inverse of <a class="reference internal"href=#pycommons.strings.string_conv.str_to_bool title=pycommons.strings.string_conv.str_to_bool><code class="xref py py-func docutils literal notranslate"><span class=pre>str_to_bool()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>) – the Boolean value</p><dt class=field-even>Returns “T”<cite>”T”</cite><span class=colon>:</span><dd class=field-even><p>if <cite>value == True</cite></p><dt class=field-odd>Returns “F”<cite>”F”</cite><span class=colon>:</span><dd class=field-odd><p>if <cite>value == False</cite></p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a <cite>bool</cite></p><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>bool_to_str</span><span class=p>(</span><span class=kc>True</span><span class=p>))</span>
<span class=go>T</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>bool_to_str</span><span class=p>(</span><span class=kc>False</span><span class=p>))</span>
<span class=go>F</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>bool_to_str</span><span class=p>(</span><span class=s2>"t"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of bool but is str, namely 't'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>bool_to_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of bool but is None.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.datetime_to_date_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>datetime_to_date_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>date</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#datetime_to_date_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.datetime_to_date_str>¶</a><dd><p>Convert a datetime object to a date string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>date</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/datetime.html#datetime.datetime><code class="xref py py-class docutils literal notranslate"><span class=pre>datetime</span></code></a></span>) – the date</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the date string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>date</cite> is not an instance of <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/datetime.html#datetime.datetime><code class="xref py py-class docutils literal notranslate"><span class=pre>datetime.datetime</span></code></a>.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>datetime_to_date_str</span><span class=p>(</span><span class=n>datetime</span><span class=p>(</span><span class=mi>1999</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>21</span><span class=p>))</span>
<span class=go>'1999‑12‑21'</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>datetime_to_date_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>date should be an instance of datetime.datetime but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>datetime_to_date_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>date should be an instance of datetime.datetime but is int, namely 1.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.datetime_to_datetime_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>datetime_to_datetime_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>dateandtime</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#datetime_to_datetime_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.datetime_to_datetime_str>¶</a><dd><p>Convert a datetime object to a date-time string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>dateandtime</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/datetime.html#datetime.datetime><code class="xref py py-class docutils literal notranslate"><span class=pre>datetime</span></code></a></span>) – the date and time</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the date-time string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>dateandtime</cite> is not an instance of <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/datetime.html#datetime.datetime><code class="xref py py-class docutils literal notranslate"><span class=pre>datetime.datetime</span></code></a>.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>datetime_to_datetime_str</span><span class=p>(</span><span class=n>datetime</span><span class=p>(</span><span class=mi>1999</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>21</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>42</span><span class=p>,</span> <span class=mi>23</span><span class=p>))</span>
<span class=go>'1999\u201112\u201121\xa013:42'</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>datetime</span><span class=w> </span><span class=kn>import</span> <span class=n>timezone</span>
<span class=gp>>>> </span><span class=n>datetime_to_datetime_str</span><span class=p>(</span><span class=n>datetime</span><span class=p>(</span><span class=mi>1999</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>21</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>42</span><span class=p>,</span>
<span class=gp>... </span>                                  <span class=n>tzinfo</span><span class=o>=</span><span class=n>timezone</span><span class=o>.</span><span class=n>utc</span><span class=p>))</span>
<span class=go>'1999\u201112\u201121\xa013:42\xa0UTC'</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>datetime_to_datetime_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>dateandtime should be an instance of datetime.datetime but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>datetime_to_datetime_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>dateandtime should be an instance of datetime.datetime but i</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.float_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>float_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#float_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.float_to_str>¶</a><dd><p>Convert <cite>float</cite> to a string.</p> <p>The floating point value <cite>value</cite> is converted to a string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a></span>) – the floating point value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string representation</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a <cite>float</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is not a number</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1.3</span><span class=p>)</span>
<span class=go>'1.3'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1.0</span><span class=p>)</span>
<span class=go>'1'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e-5</span><span class=p>)</span>
<span class=go>'1e-5'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>float_to_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of float but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>float_to_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of float but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>nan</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>float_to_str</span><span class=p>(</span><span class=n>nan</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>nan => 'nan' is not a permitted float.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>inf</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=n>inf</span><span class=p>)</span>
<span class=go>'inf'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=o>-</span><span class=n>inf</span><span class=p>)</span>
<span class=go>'-inf'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e300</span><span class=p>)</span>
<span class=go>'1e300'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=o>-</span><span class=mf>1e300</span><span class=p>)</span>
<span class=go>'-1e300'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=o>-</span><span class=mf>1e-300</span><span class=p>)</span>
<span class=go>'-1e-300'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e-300</span><span class=p>)</span>
<span class=go>'1e-300'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e1</span><span class=p>)</span>
<span class=go>'10'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e5</span><span class=p>)</span>
<span class=go>'100000'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e10</span><span class=p>)</span>
<span class=go>'10000000000'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e20</span><span class=p>)</span>
<span class=go>'1e20'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>1e030</span><span class=p>)</span>
<span class=go>'1e30'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=mf>0.0</span><span class=p>)</span>
<span class=go>'0'</span>
<span class=gp>>>> </span><span class=n>float_to_str</span><span class=p>(</span><span class=o>-</span><span class=mf>0.0</span><span class=p>)</span>
<span class=go>'0'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.int_or_none_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>int_or_none_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#int_or_none_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.int_or_none_to_str>¶</a><dd><p>Convert an integer or <cite>None</cite> to a string.</p> <p>If <cite>value is None</cite>, <cite>“”</cite> is returned. If <cite>value</cite> is an instance of <cite>bool</cite>, a <cite>TypeError</cite> is raised. If <cite>value</cite> is an <cite>int</cite>, <cite>str(val)</cite> is returned. Otherwise, a <cite>TypeError</cite> is thrown.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string representation, <cite>‘’</cite> for <cite>None</cite></p><dt class=field-even>Returns “”<cite>””</cite><span class=colon>:</span><dd class=field-even><p>if <cite>value is None</cite></p><dt class=field-odd>Returns int.__str__(value)<cite>int.__str__(value)</cite><span class=colon>:</span><dd class=field-odd><p>otherwise</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is a <cite>bool</cite> (notice that <cite>bool</cite> is a subclass of <cite>int</cite>) or any other non-<cite>int</cite> type.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>int_or_none_to_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)))</span>
<span class=go>''</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>int_or_none_to_str</span><span class=p>(</span><span class=mi>12</span><span class=p>))</span>
<span class=go>12</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>int_or_none_to_str</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of int but is bool, namely True.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>int_or_none_to_str</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of int but is bool, namely False.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>int_or_none_to_str</span><span class=p>(</span><span class=o>-</span><span class=mi>10</span><span class=p>))</span>
<span class=go>-10</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>int_or_none_to_str</span><span class=p>(</span><span class=mf>1.0</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of int but is float, namely 1.0.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.num_or_none_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>num_or_none_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#num_or_none_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.num_or_none_to_str>¶</a><dd><p>Convert a numerical type (<cite>int</cite>, <cite>float</cite>) or <cite>None</cite> to a string.</p> <p>If <cite>value is None</cite>, then <cite>“”</cite> is returned. Otherwise, the result of <a class="reference internal"href=#pycommons.strings.string_conv.num_to_str title=pycommons.strings.string_conv.num_to_str><code class="xref py py-func docutils literal notranslate"><span class=pre>num_to_str()</span></code></a> is returned.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string representation, <cite>“”</cite> for <cite>None</cite></p><dt class=field-even>Returns “”<cite>””</cite><span class=colon>:</span><dd class=field-even><p>if <cite>value is None</cite></p><dt class=field-odd>Returns num_to_str(value)<cite>num_to_str(value)</cite><span class=colon>:</span><dd class=field-odd><p>otherwise</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> not <cite>Nont</cite> but instead is a <cite>bool</cite> (notice that <cite>bool</cite> is a subclass of <cite>int</cite>) or any other type that is neither <cite>int</cite> nor <cite>float</cite>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is not-a-number</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>num_or_none_to_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)))</span>
<span class=go>''</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>num_or_none_to_str</span><span class=p>(</span><span class=mi>12</span><span class=p>))</span>
<span class=go>12</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>num_or_none_to_str</span><span class=p>(</span><span class=mf>12.3</span><span class=p>))</span>
<span class=go>12.3</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_or_none_to_str</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of any in {float, int} but is bool, namely True.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_or_none_to_str</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of any in {float, int} but is bool, namely False.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>nan</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=n>nan</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>nan => 'nan' is not a permitted float.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.num_to_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>num_to_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#num_to_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.num_to_str>¶</a><dd><p>Transform a numerical value which is either <cite>int</cite> or`float` to a string.</p> <p>If <cite>value</cite> is an instance of <cite>int</cite>, the result of its conversion via <cite>str</cite> will be returned. If <cite>value</cite> is an instance of <cite>bool</cite>, a <cite>TypeError</cite> will be raised. Otherwise, the result of <a class="reference internal"href=#pycommons.strings.string_conv.float_to_str title=pycommons.strings.string_conv.float_to_str><code class="xref py py-func docutils literal notranslate"><span class=pre>float_to_str()</span></code></a> is returned. This means that <cite>nan</cite> will yield a <cite>ValueError</cite> and anything that is neither an <cite>int</cite>, <cite>bool</cite>, or <cite>float</cite> will incur a <cite>TypeError</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a></span>) – the value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is a <cite>bool</cite> (notice that <cite>bool</cite> is a subclass of <cite>int</cite>) or any other type that is neither <cite>int</cite> nor <cite>float</cite>.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is not-a-number</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>num_to_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=go>'1'</span>
<span class=gp>>>> </span><span class=n>num_to_str</span><span class=p>(</span><span class=mf>1.5</span><span class=p>)</span>
<span class=go>'1.5'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of any in {float, int} but is bool, namely True.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=kc>False</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of any in {float, int} but is bool, namely False.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of float but is str, namely 'x'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of float but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>math</span><span class=w> </span><span class=kn>import</span> <span class=n>inf</span><span class=p>,</span> <span class=n>nan</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>num_to_str</span><span class=p>(</span><span class=n>nan</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>nan => 'nan' is not a permitted float.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>num_to_str</span><span class=p>(</span><span class=n>inf</span><span class=p>)</span>
<span class=go>'inf'</span>
<span class=gp>>>> </span><span class=n>num_to_str</span><span class=p>(</span><span class=o>-</span><span class=n>inf</span><span class=p>)</span>
<span class=go>'-inf'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.str_to_bool><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>str_to_bool</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#str_to_bool><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.str_to_bool>¶</a><dd><p>Convert a string to a boolean value.</p> <p>This function is the inverse of <a class="reference internal"href=#pycommons.strings.string_conv.bool_to_str title=pycommons.strings.string_conv.bool_to_str><code class="xref py py-func docutils literal notranslate"><span class=pre>bool_to_str()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string value</p><dt class=field-even>Returns True<cite>True</cite><span class=colon>:</span><dd class=field-even><p>if <cite>value == “T”</cite></p><dt class=field-odd>Returns False<cite>False</cite><span class=colon>:</span><dd class=field-odd><p>if <cite>value == “F”</cite></p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a string<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is neither <cite>T</cite> nor <cite>F</cite></ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>str_to_bool</span><span class=p>(</span><span class=s2>"T"</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>str_to_bool</span><span class=p>(</span><span class=s2>"F"</span><span class=p>)</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_bool</span><span class=p>(</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>v</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>Expected 'T' or 'F', but got 'x'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_bool</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_bool</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.str_to_int_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>str_to_int_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#str_to_int_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.str_to_int_or_none>¶</a><dd><p>Convert a string to an <cite>int</cite> or <cite>None</cite>.</p> <p>If the value <cite>value</cite> is <cite>None</cite>, then <cite>None</cite> is returned. If the vlaue <cite>value</cite> is empty or entirely composed of white space, <cite>None</cite> is returned. If the value <cite>value</cite> can be converted to an integer, then an <cite>int</cite> with the corresponding value is returned. Otherwise, a <cite>ValueError</cite> is thrown.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the string value, or <cite>None</cite></p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the int or None</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is neither a <cite>str</cite> nor <cite>None</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is a <cite>str</cite> but cannot be base-10 converted to an integer</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=s2>""</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=s2>"5"</span><span class=p>))</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=s2>"  "</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=mf>1.3</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>value should be an instance of str but is float, namely 1.3.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>str_to_int_or_none</span><span class=p>(</span><span class=s2>"1.3"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid literal for int() with base 10: '1.3'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.str_to_num><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>str_to_num</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#str_to_num><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.str_to_num>¶</a><dd><p>Convert a string to an <cite>int</cite> or <cite>float</cite>.</p> <p>If <cite>value</cite> is not an instance of <cite>str</cite>, a <cite>TypeError</cite> will be raised. If the value <cite>value</cite> can be converted to an integer, then an <cite>int</cite> with the corresponding value is returned. If the value <cite>value</cite> can be converted to a <cite>float</cite>, a <cite>float</cite> with the appropriate value is returned. Otherwise, a <cite>ValueError</cite> is thrown.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the <cite>int</cite> or <cite>float</cite>: Integers are preferred to be used whereever possible</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is not a <cite>str</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is a <cite>str</cite> but cannot be converted to an integer (base-10) or converts to a <cite>float</cite> which is not a number</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"15.0"</span><span class=p>)))</span>
<span class=go>&LTclass 'int'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"15.1"</span><span class=p>)))</span>
<span class=go>&LTclass 'float'></span>
<span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"inf"</span><span class=p>)</span>
<span class=go>inf</span>
<span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"  -inf  "</span><span class=p>)</span>
<span class=go>-inf</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=mi>21</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>"nan"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>NaN is not permitted, but got 'nan'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>"12-3"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value '12-3'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"1e34423"</span><span class=p>)</span>
<span class=go>inf</span>
<span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"-1e34423"</span><span class=p>)</span>
<span class=go>-inf</span>
<span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"-1e-34423"</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>str_to_num</span><span class=p>(</span><span class=s2>"1e-34423"</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>"-1e-34e4423"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value '-1e-34e4423'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>"T"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value 'T'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>"F"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value 'F'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Value '' becomes empty after stripping, cannot be converted to a number.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_conv.str_to_num_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_conv.</span></span><span class="sig-name descname"><span class=pre>str_to_num_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_conv.html#str_to_num_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_conv.str_to_num_or_none>¶</a><dd><p>Convert a string to an <cite>int</cite> or <cite>float</cite> or <cite>None</cite>.</p> <p>If the value <cite>value</cite> is <cite>None</cite>, then <cite>None</cite> is returned. If the vlaue <cite>value</cite> is empty or entirely composed of white space, <cite>None</cite> is returned. If the value <cite>value</cite> can be converted to an integer, then an <cite>int</cite> with the corresponding value is returned. If the value <cite>value</cite> can be converted to a <cite>float</cite>, a <cite>float</cite> with the appropriate value is returned. Otherwise, a <cite>ValueError</cite> is thrown.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>value</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the string value</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#float><code class="xref py py-class docutils literal notranslate"><span class=pre>float</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the <cite>int</cite> or <cite>float</cite> or <cite>None</cite></p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>value</cite> is neither a <cite>str</cite> nor <cite>None</cite><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>value</cite> is a <cite>str</cite> but cannot be converted to an integer (base-10) or converts to a <cite>float</cite> which is not a number</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"15.0"</span><span class=p>)))</span>
<span class=go>&LTclass 'int'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"15.1"</span><span class=p>)))</span>
<span class=go>&LTclass 'float'></span>
<span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"inf"</span><span class=p>)</span>
<span class=go>inf</span>
<span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"  -inf  "</span><span class=p>)</span>
<span class=go>-inf</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=mi>21</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"nan"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>NaN is not permitted, but got 'nan'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"12-3"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value '12-3'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"1e34423"</span><span class=p>)</span>
<span class=go>inf</span>
<span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"-1e34423"</span><span class=p>)</span>
<span class=go>-inf</span>
<span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"-1e-34423"</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"1e-34423"</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"-1e-34e4423"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value '-1e-34e4423'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"T"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value 'T'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"F"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid numerical value 'F'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>""</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"5.0"</span><span class=p>)))</span>
<span class=go>&LTclass 'int'></span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>str_to_num_or_none</span><span class=p>(</span><span class=s2>"5.1"</span><span class=p>)))</span>
<span class=go>&LTclass 'float'></span>
</pre></div></div></dl></section><section id=module-pycommons.strings.string_tools><span id=pycommons-strings-string-tools-module></span><h2>pycommons.strings.string_tools module<a title="Link to this heading"class=headerlink href=#module-pycommons.strings.string_tools>¶</a></h2><p>Routines for handling strings.<dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.escape><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>escape</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em>, <em class=sig-param><span class=n><span class=pre>escapes</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#escape><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.escape>¶</a><dd><p>Escapes a set of substrings inside a string in a reversible manner.</p> <p>A set of character sequences (<cite>escapes</cite>) are to be removed from <cite>text</cite> and to be replaced with characters that do not occur inside <cite>text</cite>. Escaping is a bijection. Since all escaped sequences are replaced with characters that are new to the string, there cannot be any issue with recursively occuring patterns or ambigiuties.</p> <p>Replacement is performed iteratively from beginning to end. The first sequence from <cite>escapes</cite> that is discovered is replaced and then the process continues. If two sequences start at the same place, then the longer one is replaced first.</p> <p>The same <cite>text</cite> with the same set of escapes will always produce the same output, regardless of the order of the escapes.</p> <p>The function returns a tuple containing the escaped string as well as the setup used for the escaping (as the second element). This second element must <em>only</em> be used by the function <a class="reference internal"href=#pycommons.strings.string_tools.unescape title=pycommons.strings.string_tools.unescape><code class="xref py py-func docutils literal notranslate"><span class=pre>unescape()</span></code></a>, which is the reverse operator of <a class="reference internal"href=#pycommons.strings.string_tools.escape title=pycommons.strings.string_tools.escape><code class="xref py py-func docutils literal notranslate"><span class=pre>escape()</span></code></a>. You must not make any assumption about its nature.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the text<li><p><strong>escapes</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the substrings to escape</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>a tuple of an escaped version of the string, together with the escape information. The second part of the tuple must not be accessed.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>"12345"</span><span class=p>,</span> <span class=p>(</span><span class=s2>"12"</span><span class=p>,</span> <span class=s2>"X"</span><span class=p>,</span> <span class=s2>"5"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>"34!</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('12', '"'), ('5', '!')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'12345'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'"123!45'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"12"</span><span class=p>,</span> <span class=s2>"X"</span><span class=p>,</span> <span class=s2>"5"</span><span class=p>,</span> <span class=s2>"!"</span><span class=p>,</span> <span class=s1>'"'</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>$&3#4%</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('!', '#'), ('"', '$'), ('12', '&'), ('5', '%')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'"123!45'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'"123!45'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"X"</span><span class=p>,</span> <span class=s2>"5"</span><span class=p>,</span> <span class=s2>"12"</span><span class=p>,</span> <span class=s2>"!"</span><span class=p>,</span> <span class=s1>'"'</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>$&3#4%</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('!', '#'), ('"', '$'), ('12', '&'), ('5', '%')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'"123!45'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'111111112222233321111212121'</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"11"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>,</span> <span class=s2>"222"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=s2>"32"</span><span class=p>,</span> <span class=s2>"321"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>,</span> <span class=s2>"33"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>####'""&(#!$$$</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('1', '!'), ('11', '#'), ('2', '"'), ('21', '$'), ('222', "'"), ('321', '('), ('33', '&')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'111111112222233321111212121'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'111&111112222233321111212X121'</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"11"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>,</span> <span class=s2>"222"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=s2>"32"</span><span class=p>,</span> <span class=s2>"321"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>,</span> <span class=s2>"33"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>#!&##!(""')#!$"X!$</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('1', '!'), ('11', '#'), ('2', '"'), ('21', '$'), ('222', '('), ('321', ')'), ('33', "'")]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'111&111112222233321111212X121'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'221'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"22"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>"1</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('22', '"')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'22221'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"2222"</span><span class=p>,</span> <span class=s2>"2221"</span><span class=p>,</span> <span class=s2>"22"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>$1</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('2222', '$')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'22221'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'222212222122221'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"2222"</span><span class=p>,</span> <span class=s2>"2221"</span><span class=p>,</span> <span class=s2>"22"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>$1$1$1</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('2222', '$')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'222212222122221'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'222212222122221'</span><span class=p>,</span> <span class=p>(</span><span class=s2>"2222"</span><span class=p>,</span> <span class=s2>"2221"</span><span class=p>,</span> <span class=s2>"22"</span><span class=p>,</span> <span class=s2>"21"</span><span class=p>,</span> <span class=s1>'"1'</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>%1%1%1</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('2222', '%')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'222212222122221'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>escape</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>escape</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>'int' object is not iterable</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>escape</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=p>(</span><span class=s2>"12"</span><span class=p>,</span> <span class=p>))</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>==</span> <span class=s2>""</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=ow>is</span> <span class=kc>None</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>"12"</span><span class=p>,</span> <span class=p>[])</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>==</span> <span class=s2>"12"</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=ow>is</span> <span class=kc>None</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>"12"</span><span class=p>,</span> <span class=p>[</span><span class=s2>"3"</span><span class=p>,</span> <span class=s2>"4"</span><span class=p>,</span> <span class=s2>"5"</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>==</span> <span class=s2>"12"</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=ow>is</span> <span class=kc>None</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>"1"</span> <span class=o>*</span> <span class=mi>1_073_741_826</span><span class=p>,</span> <span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>We rather not escape a string with 1073741826 characters.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>""</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>chr</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>524_290</span><span class=p>)),</span> <span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>524290 different characters and 1 escapes are too many.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s2>"123"</span><span class=p>,</span> <span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Cannot escape empty string.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.get_prefix_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>get_prefix_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>strings</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#get_prefix_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.get_prefix_str>¶</a><dd><p>Compute the common prefix of an iterable of strings.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>strings</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>) – the iterable of strings</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the common prefix</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the input is not a string, iterable of string, or contains any non-string element (before the prefix is determined) Notice: If the prefix is determined as the empty string, then the search is stopped. If some non-<cite>str</cite> items follow later in <cite>strings</cite>, then these may not raise a <cite>TypeError</cite></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"acd"</span><span class=p>])</span>
<span class=go>'a'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"xyz"</span><span class=p>,</span> <span class=s2>"gsdf"</span><span class=p>])</span>
<span class=go>''</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>([])</span>
<span class=go>''</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"abx"</span><span class=p>])</span>
<span class=go>'abx'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>((</span><span class=s2>"abx"</span><span class=p>,</span> <span class=p>))</span>
<span class=go>'abx'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>({</span><span class=s2>"abx"</span><span class=p>,</span> <span class=p>})</span>
<span class=go>'abx'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>(</span><span class=s2>"abx"</span><span class=p>)</span>
<span class=go>'abx'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>((</span><span class=s2>"</span><span class=se>\\</span><span class=s2>relative.path"</span><span class=p>,</span> <span class=s2>"</span><span class=se>\\</span><span class=s2>relative.figure"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s2>"</span><span class=se>\\</span><span class=s2>relative.code"</span><span class=p>))</span>
<span class=go>'\\relative.'</span>
<span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>({</span><span class=s2>"</span><span class=se>\\</span><span class=s2>relative.path"</span><span class=p>,</span> <span class=s2>"</span><span class=se>\\</span><span class=s2>relative.figure"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=s2>"</span><span class=se>\\</span><span class=s2>relative.code"</span><span class=p>})</span>
<span class=go>'\\relative.'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>get_prefix_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>strings should be an instance of any in {str, typing.Iterable} but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>get_prefix_str</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>strings should be an instance of any in {str, typing.Iterabl</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"acd"</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>"acd"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>get_prefix_str</span><span class=p>([</span><span class=s2>"xyz"</span><span class=p>,</span> <span class=s2>"gsdf"</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=go>''</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.replace_regex><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>replace_regex</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>search</span></span></em>, <em class=sig-param><span class=n><span class=pre>replace</span></span></em>, <em class=sig-param><span class=n><span class=pre>inside</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#replace_regex><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.replace_regex>¶</a><dd><p>Replace all occurrences of ‘search’ in ‘inside’ with ‘replace’.</p> <p>This replacement procedure is done repetitively and recursively until no occurrence of <cite>search</cite> is found anymore. This, of course, may lead to an endless loop, so a <cite>ValueError</cite> is thrown if there are too many recursive replacements.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>search</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Pattern><code class="xref py py-class docutils literal notranslate"><span class=pre>Pattern</span></code></a>]</span>) – the regular expression to search, either a string or a pattern<li><p><strong>replace</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/re.html#re.Match><code class="xref py py-class docutils literal notranslate"><span class=pre>Match</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>) – the string to replace it with, or a function receiving a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/re.html#re.Match><code class="xref py py-class docutils literal notranslate"><span class=pre>re.Match</span></code></a> instance and returning a replacement string<li><p><strong>inside</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string in which to search/replace</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the new string after the recursive replacement</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters is not of the right type<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if there are 100000 recursive replacements or more, indicating that there could be an endless loop</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s1>'[ </span><span class=se>\t</span><span class=s1>]+</span><span class=se>\n</span><span class=s1>'</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>,</span> <span class=s1>' bla </span><span class=se>\n</span><span class=s1>xyz</span><span class=se>\t</span><span class=s1>abc</span><span class=se>\t\n</span><span class=s1>'</span><span class=p>)</span>
<span class=go>' bla\nxyz\tabc\n'</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s1>'[0-9]A'</span><span class=p>,</span> <span class=s1>'X'</span><span class=p>,</span> <span class=s1>'23A7AA'</span><span class=p>)</span>
<span class=go>'2XXA'</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>re</span><span class=w> </span><span class=kn>import</span> <span class=nb>compile</span> <span class=k>as</span> <span class=n>cpx</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=n>cpx</span><span class=p>(</span><span class=s1>'[0-9]A'</span><span class=p>),</span> <span class=s1>'X'</span><span class=p>,</span> <span class=s1>'23A7AA'</span><span class=p>)</span>
<span class=go>'2XXA'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__repl</span><span class=p>(</span><span class=n>a</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=s2>"y"</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s2>"a.b"</span><span class=p>,</span> <span class=n>__repl</span><span class=p>,</span> <span class=s2>"albaab"</span><span class=p>)</span>
<span class=go>&LTre.Match object; span=(0, 3), match='alb'></span>
<span class=go>&LTre.Match object; span=(3, 6), match='aab'></span>
<span class=go>'yy'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__repl</span><span class=p>(</span><span class=n>a</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>a</span><span class=p>))</span>
<span class=gp>... </span>    <span class=n>ss</span> <span class=o>=</span> <span class=n>a</span><span class=o>.</span><span class=n>group</span><span class=p>()</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ss</span><span class=p>)</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=s2>"axb"</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s2>"aa.bb"</span><span class=p>,</span> <span class=n>__repl</span><span class=p>,</span> <span class=s2>"aaaaaxbbbbb"</span><span class=p>)</span>
<span class=go>&LTre.Match object; span=(3, 8), match='aaxbb'></span>
<span class=go>aaxbb</span>
<span class=go>&LTre.Match object; span=(2, 7), match='aaxbb'></span>
<span class=go>aaxbb</span>
<span class=go>&LTre.Match object; span=(1, 6), match='aaxbb'></span>
<span class=go>aaxbb</span>
<span class=go>&LTre.Match object; span=(0, 5), match='aaxbb'></span>
<span class=go>aaxbb</span>
<span class=go>'axb'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s2>"aa.bb"</span><span class=p>,</span> <span class=s2>"axb"</span><span class=p>,</span> <span class=s2>"aaaaaxbbbbb"</span><span class=p>)</span>
<span class=go>'axb'</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s2>"aa.bb"</span><span class=p>,</span> <span class=s2>"axb"</span><span class=p>,</span> <span class=s2>""</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>"a"</span> <span class=o>*</span> <span class=mi>100</span> <span class=o>+</span> <span class=s2>"y"</span> <span class=o>+</span> <span class=s2>"b"</span> <span class=o>*</span> <span class=mi>100</span><span class=p>))</span>
<span class=go>'axb'</span>
<span class=gp>>>> </span><span class=n>replace_regex</span><span class=p>(</span><span class=s2>"aa.bb"</span><span class=p>,</span> <span class=s2>"axb"</span><span class=p>,</span>
<span class=gp>... </span>              <span class=s2>""</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>"a"</span> <span class=o>*</span> <span class=mi>10000</span> <span class=o>+</span> <span class=s2>"y"</span> <span class=o>+</span> <span class=s2>"b"</span> <span class=o>*</span> <span class=mi>10000</span><span class=p>))</span>
<span class=go>'axb'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>search should be an instance of any in {str, typing.Pattern}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>search should be an instance of any in {str, typing.Pattern} but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace should be an instance of str or a callable but is int, namely 2.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace should be an instance of str or a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>search should be an instance of any in {str, typing.Pattern}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=s2>"yy"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>inside should be an instance of str but is int, namely 3.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=s2>"adad"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>inside should be an instance of str but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>search should be an instance of any in {str, typing.Pattern}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>   <span class=n>replace_regex</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>   <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>search should be an instance of any in {str, typing.Pattern}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_regex</span><span class=p>(</span><span class=s2>"abab|baab|bbab|aaab|aaaa|bbbb"</span><span class=p>,</span> <span class=s2>"baba"</span><span class=p>,</span>
<span class=gp>... </span>                  <span class=s2>"ababababab"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>Too many replacements, pattern re.compile('abab|ba</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.replace_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>replace_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>find</span></span></em>, <em class=sig-param><span class=n><span class=pre>replace</span></span></em>, <em class=sig-param><span class=n><span class=pre>src</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#replace_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.replace_str>¶</a><dd><p>Perform a recursive replacement of strings.</p> <p>After applying this function, there will not be any occurence of <cite>find</cite> left in <cite>src</cite>. All of them will have been replaced by <cite>replace</cite>. If that produces new instances of <cite>find</cite>, these will be replaced as well <em>unless they do not make the string shorter</em>. In other words, the replacement is continued only if the new string becomes shorter.</p> <p>See <a class="reference internal"href=#pycommons.strings.string_tools.replace_regex title=pycommons.strings.string_tools.replace_regex><code class="xref py py-func docutils literal notranslate"><span class=pre>replace_regex()</span></code></a> for regular-expression based replacements.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>find</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string to find<li><p><strong>replace</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string with which it will be replaced<li><p><strong>src</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string in which we search</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string <cite>src</cite>, with all occurrences of find replaced by replace</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters are not strings</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"abc"</span><span class=p>)</span>
<span class=go>'bbc'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"aa"</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"aaaaa"</span><span class=p>)</span>
<span class=go>'a'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"aba"</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"abaababa"</span><span class=p>)</span>
<span class=go>'aa'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"aba"</span><span class=p>,</span> <span class=s2>"aba"</span><span class=p>,</span> <span class=s2>"abaababa"</span><span class=p>)</span>
<span class=go>'abaababa'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"aa"</span><span class=p>,</span> <span class=s2>"aa"</span><span class=p>,</span> <span class=s2>"aaaaaaaa"</span><span class=p>)</span>
<span class=go>'aaaaaaaa'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"aa"</span><span class=p>,</span> <span class=s2>"aaaaaaaa"</span><span class=p>)</span>
<span class=go>'aaaaaaaaaaaaaaaa'</span>
<span class=gp>>>> </span><span class=n>replace_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"xx"</span><span class=p>,</span> <span class=s2>"aaaaaaaa"</span><span class=p>)</span>
<span class=go>'xxxxxxxxxxxxxxxx'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace() argument 1 must be str, not None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace() argument 1 must be str, not int</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace() argument 2 must be str, not None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>replace() argument 2 must be str, not int</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>replace_str</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=s2>"xy"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.split_str><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>split_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>source</span></span></em>, <em class=sig-param><span class=n><span class=pre>split_by</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#split_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.split_str>¶</a><dd><p>Split a string by the given other string.</p> <p>The goal is to provide a less memory intense variant of the method <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.split><code class="xref py py-meth docutils literal notranslate"><span class=pre>str.split()</span></code></a>. This routine should iteratively divide a given string based on a splitting character or string. This function may be useful if we are dealing with a very big <cite>source</cite> string and want to iteratively split it into smaller strings. Instead of creating a list with many small strings, what <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.split><code class="xref py py-meth docutils literal notranslate"><span class=pre>str.split()</span></code></a> does, it creates these strings iteratively</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>source</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the source string<li><p><strong>split_by</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the split string</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>each split element</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=go>['']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>))</span>
<span class=go>['']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=go>['a']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>"abc"</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=go>['a', 'b', 'c']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>"a;b;c"</span><span class=p>,</span> <span class=s2>";"</span><span class=p>))</span>
<span class=go>['a', 'b', 'c']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>"a;b;c;"</span><span class=p>,</span> <span class=s2>";"</span><span class=p>))</span>
<span class=go>['a', 'b', 'c', '']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>";a;b;;c;"</span><span class=p>,</span> <span class=s2>";"</span><span class=p>))</span>
<span class=go>['', 'a', 'b', '', 'c', '']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>split_str</span><span class=p>(</span><span class=s2>"a;aaa;aba;aa;aca;a"</span><span class=p>,</span> <span class=s2>"a;a"</span><span class=p>))</span>
<span class=go>['', 'a', 'b', '', 'c', '']</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.strings.string_tools.unescape><span class="sig-prename descclassname"><span class=pre>pycommons.strings.string_tools.</span></span><span class="sig-name descname"><span class=pre>unescape</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em>, <em class=sig-param><span class=n><span class=pre>escapes</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/strings/string_tools.html#unescape><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.strings.string_tools.unescape>¶</a><dd><p>Revert the operation of the <a class="reference internal"href=#pycommons.strings.string_tools.escape title=pycommons.strings.string_tools.escape><code class="xref py py-func docutils literal notranslate"><span class=pre>escape()</span></code></a> function.</p> <p>See the documentation of the function <a class="reference internal"href=#pycommons.strings.string_tools.escape title=pycommons.strings.string_tools.escape><code class="xref py py-func docutils literal notranslate"><span class=pre>escape()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the text<li><p><strong>escapes</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a></span>) – the substrings to escape</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>a tuple of an escaped version of the string, together with the escape sequences.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'2345123123^21123z41vvvbH34Zxgo493244747261'</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"11"</span><span class=p>,</span> <span class=s2>"45"</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>,</span> <span class=s2>"vb"</span><span class=p>,</span> <span class=s2>"47"</span><span class=p>,</span> <span class=s2>"61"</span><span class=p>,</span> <span class=s2>"H3"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>23$!23!23^2#23z4!""('4Zxgo49324%%2&</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('1', '!'), ('11', '#'), ('45', '$'), ('47', '%'), ('61', '&'), ('H3', "'"), ('v', '"'), ('vb', '(')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'2345123123^21123z41vvvbH34Zxgo493244747261'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span><span class=p>,</span> <span class=n>v</span> <span class=o>=</span> <span class=n>escape</span><span class=p>(</span><span class=s1>'23451"23123^2112$3z41#vvvb!H34Zxgo4932%44747261'</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"11"</span><span class=p>,</span> <span class=s2>"45"</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>,</span> <span class=s2>"vb"</span><span class=p>,</span> <span class=s2>"47"</span><span class=p>,</span> <span class=s2>"61"</span><span class=p>,</span> <span class=s2>"H3"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>23)&"23&23^2(2$3z4&#''-!,4Zxgo4932%4**2+</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
<span class=go>[('1', '&'), ('11', '('), ('45', ')'), ('47', '*'), ('61', '+'), ('H3', ','), ('v', "'"), ('vb', '-')]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=n>s</span><span class=p>,</span> <span class=n>v</span><span class=p>)</span>
<span class=go>'23451"23123^2112$3z41#vvvb!H34Zxgo4932%44747261'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=p>[(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>),</span> <span class=p>])</span>
<span class=go>''</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=s2>"b"</span><span class=p>,</span> <span class=p>[(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>),</span> <span class=p>])</span>
<span class=go>'a'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=s2>"b"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=go>'b'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>unescape</span><span class=p>(</span><span class=s2>"b"</span><span class=p>,</span> <span class=p>[])</span>
<span class=go>'b'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>unescape</span><span class=p>(</span><span class=s2>"1"</span> <span class=o>*</span> <span class=mi>1_073_741_825</span><span class=p>,</span> <span class=p>[(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>),</span> <span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>We rather not unescape a string with 1073741825 characters.</span>
</pre></div></div></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>pycommons.strings package</a><ul><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-pycommons.strings.chars>pycommons.strings.chars module</a><ul><li><a class="reference internal"href=#pycommons.strings.chars.NBDASH><code class="docutils literal notranslate"><span class=pre>NBDASH</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.NBSP><code class="docutils literal notranslate"><span class=pre>NBSP</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.NEWLINE><code class="docutils literal notranslate"><span class=pre>NEWLINE</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.WHITESPACE><code class="docutils literal notranslate"><span class=pre>WHITESPACE</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.WHITESPACE_OR_NEWLINE><code class="docutils literal notranslate"><span class=pre>WHITESPACE_OR_NEWLINE</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.subscript><code class="docutils literal notranslate"><span class=pre>subscript()</span></code></a><li><a class="reference internal"href=#pycommons.strings.chars.superscript><code class="docutils literal notranslate"><span class=pre>superscript()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.strings.enforce>pycommons.strings.enforce module</a><ul><li><a class="reference internal"href=#pycommons.strings.enforce.enforce_non_empty_str><code class="docutils literal notranslate"><span class=pre>enforce_non_empty_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.enforce.enforce_non_empty_str_without_ws><code class="docutils literal notranslate"><span class=pre>enforce_non_empty_str_without_ws()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.strings.string_conv>pycommons.strings.string_conv module</a><ul><li><a class="reference internal"href=#pycommons.strings.string_conv.bool_or_num_to_str><code class="docutils literal notranslate"><span class=pre>bool_or_num_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.bool_to_str><code class="docutils literal notranslate"><span class=pre>bool_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.datetime_to_date_str><code class="docutils literal notranslate"><span class=pre>datetime_to_date_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.datetime_to_datetime_str><code class="docutils literal notranslate"><span class=pre>datetime_to_datetime_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.float_to_str><code class="docutils literal notranslate"><span class=pre>float_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.int_or_none_to_str><code class="docutils literal notranslate"><span class=pre>int_or_none_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.num_or_none_to_str><code class="docutils literal notranslate"><span class=pre>num_or_none_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.num_to_str><code class="docutils literal notranslate"><span class=pre>num_to_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.str_to_bool><code class="docutils literal notranslate"><span class=pre>str_to_bool()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.str_to_int_or_none><code class="docutils literal notranslate"><span class=pre>str_to_int_or_none()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.str_to_num><code class="docutils literal notranslate"><span class=pre>str_to_num()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_conv.str_to_num_or_none><code class="docutils literal notranslate"><span class=pre>str_to_num_or_none()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.strings.string_tools>pycommons.strings.string_tools module</a><ul><li><a class="reference internal"href=#pycommons.strings.string_tools.escape><code class="docutils literal notranslate"><span class=pre>escape()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_tools.get_prefix_str><code class="docutils literal notranslate"><span class=pre>get_prefix_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_tools.replace_regex><code class="docutils literal notranslate"><span class=pre>replace_regex()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_tools.replace_str><code class="docutils literal notranslate"><span class=pre>replace_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_tools.split_str><code class="docutils literal notranslate"><span class=pre>split_str()</span></code></a><li><a class="reference internal"href=#pycommons.strings.string_tools.unescape><code class="docutils literal notranslate"><span class=pre>unescape()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=pycommons.processes.html>pycommons.processes package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/pycommons.strings.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`;</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.processes package"href=pycommons.processes.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.89 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-this"><a href>pycommons.strings package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2026, Thomas Weise.</div>
