<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>pycommons.dev.doc package — pycommons 0.8.70 documentation</title><link href="/pycommons/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/pycommons/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/pycommons/_static/documentation_options.js?v=bfdce523"></script><script src="/pycommons/_static/doctools.js?v=9bcbadda"></script><script src="/pycommons/_static/sphinx_highlight.js?v=dc90522c"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/pycommons/pycommons.dev.doc.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="pycommons.dev.tests package"href=pycommons.dev.tests.html rel=next><link title="pycommons.dev.building package"href=pycommons.dev.building.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.dev.tests package"accesskey=N href=pycommons.dev.tests.html>next</a> |<li class=right><a title="pycommons.dev.building package"accesskey=P href=pycommons.dev.building.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.70 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-3"><a accesskey=U href=pycommons.dev.html>pycommons.dev package</a> »<li class="nav-item nav-item-this"><a href>pycommons.dev.doc package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-pycommons.dev.doc><span id=pycommons-dev-doc-package></span><h1>pycommons.dev.doc package<a title="Link to this heading"class=headerlink href=#module-pycommons.dev.doc>¶</a></h1><p>Tools for making the documentation.<p>In all of my projects, the documentation is generated in the same way from the same data. Therefore, this process is unified here, which makes it easier to apply changes throughout all projects.<p>The general idea is that we take all the information from the <cite>setup.cfg</cite>, <cite>README.md</cite>, and <cite>version.py</cite> files and use it to automatically fill the parameters of sphinx and to construct <cite>index.rst</cite> and a variant of <cite>README.md</cite> that the myst parser used by sphinx can properly render.<section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-pycommons.dev.doc.doc_info><span id=pycommons-dev-doc-doc-info-module></span><h2>pycommons.dev.doc.doc_info module<a title="Link to this heading"class=headerlink href=#module-pycommons.dev.doc.doc_info>¶</a></h2><p>The documentation information.<p>The <a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo title=pycommons.dev.doc.doc_info.DocInfo><code class="xref py py-class docutils literal notranslate"><span class=pre>DocInfo</span></code></a> holds the basic data needed to generate documentation in a unified way. For now, this data is loaded from the <cite>setup.cfg</cite> file, in which the process expects to find references to a <cite>version.py</cite> and <cite>README.md</cite> file. Then, it loads the information from these files as well. This spares us the trouble of defining the information in several places and keeping it synchronized.<dl class="py class"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.doc_info.</span></span><span class="sig-name descname"><span class=pre>DocInfo</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>readme_md</span></span></em>, <em class=sig-param><span class=n><span class=pre>project</span></span></em>, <em class=sig-param><span class=n><span class=pre>author</span></span></em>, <em class=sig-param><span class=n><span class=pre>title</span></span></em>, <em class=sig-param><span class=n><span class=pre>version</span></span></em>, <em class=sig-param><span class=n><span class=pre>last_major_section_index</span></span></em>, <em class=sig-param><span class=n><span class=pre>doc_url</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/doc_info.html#DocInfo><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo>¶</a><dd><p>Bases: <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#object><code class="xref py py-class docutils literal notranslate"><span class=pre>object</span></code></a></p> <p>A class that represents information about documentation.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>di</span> <span class=o>=</span> <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>doc_url</span>
<span class=go>'https://example.com'</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>last_major_section_index</span>
<span class=go>12</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>project</span>
<span class=go>'a'</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>author</span>
<span class=go>'b'</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>title</span>
<span class=go>'c'</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>readme_md_file</span><span class=p>[</span><span class=o>-</span><span class=mi>11</span><span class=p>:]</span>
<span class=go>'doc_info.py'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>di</span> <span class=o>=</span> <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>doc_url</span>
<span class=go>'https://example.com'</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>di</span><span class=o>.</span><span class=n>last_major_section_index</span><span class=p>)</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>title</span>
<span class=go>'c'</span>
<span class=gp>>>> </span><span class=n>di</span><span class=o>.</span><span class=n>readme_md_file</span><span class=p>[</span><span class=o>-</span><span class=mi>11</span><span class=p>:]</span>
<span class=go>'doc_info.py'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>" "</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid project name ' '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid author name ' '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>,</span> <span class=s2>"1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid title ' '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>64</span><span class=p>])</span>
<span class=go>Invalid version 'x': Cannot convert version='x' to int, let alon</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>64</span><span class=p>])</span>
<span class=go>Invalid version ' ': empty or only white space.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.x"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>64</span><span class=p>])</span>
<span class=go>Invalid version '1.x': Cannot convert version='x' to int, let al</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"-1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>64</span><span class=p>])</span>
<span class=go>Invalid version '-1': version=-1 is invalid, must be in 0..10000</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"0.-1"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>64</span><span class=p>])</span>
<span class=go>Invalid version '0.-1': version=-1 is invalid, must be in 0..100</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>last_major_section_index should be an instance of int but is</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>last_major_section_index=0 is invalid, must be in 1..1000000.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"dfg"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>URL part '' has invalid length 0.</span>
</pre></div></div> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.author><span class="sig-name descname"><span class=pre>author</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.author>¶</a><dd><p>The author name.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.doc_url><span class="sig-name descname"><span class=pre>doc_url</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference internal"href=pycommons.net.html#pycommons.net.url.URL title=pycommons.net.url.URL><code class="xref py py-class docutils literal notranslate"><span class=pre>URL</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.doc_url>¶</a><dd><p>the base URL of the documentation</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.last_major_section_index><span class="sig-name descname"><span class=pre>last_major_section_index</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> <span class=pre>|</span> <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.last_major_section_index>¶</a><dd><p>The index of the last major section</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.project><span class="sig-name descname"><span class=pre>project</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.project>¶</a><dd><p>The project name.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.readme_md_file><span class="sig-name descname"><span class=pre>readme_md_file</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference internal"href=pycommons.io.html#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.readme_md_file>¶</a><dd><p>The readme.md file.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.title><span class="sig-name descname"><span class=pre>title</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.title>¶</a><dd><p>The documentation title.</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.DocInfo.version><span class="sig-name descname"><span class=pre>version</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></em><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.DocInfo.version>¶</a><dd><p>The version string.</p></dl></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.extract_md_infos><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.doc_info.</span></span><span class="sig-name descname"><span class=pre>extract_md_infos</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>readme_md_file</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/doc_info.html#extract_md_infos><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.extract_md_infos>¶</a><dd><p>Parse a <cite>README.md</cite> file and find the title and last section index.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>readme_md_file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the <cite>README.md</cite></p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>a tuple of the title (headline starting with <cite>“# “</cite> (but without the <cite>“# “</cite>), and the last section index, if any)</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>join</span><span class=p>,</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>t</span> <span class=o>=</span> <span class=n>extract_md_infos</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span>
<span class=gp>... </span>                         <span class=vm>__file__</span><span class=p>)))),</span> <span class=s2>"README.md"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
<span class=go>('*pycommons:* Common Utility Functions for Python Projects.', 5)</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.load_doc_info_from_setup_cfg><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.doc_info.</span></span><span class="sig-name descname"><span class=pre>load_doc_info_from_setup_cfg</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>setup_cfg_file</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/doc_info.html#load_doc_info_from_setup_cfg><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.load_doc_info_from_setup_cfg>¶</a><dd><p>Load the documentation information from the <cite>setup.cfg</cite> file.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>setup_cfg_file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the <cite>setup.cfg</cite> file.</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo title=pycommons.dev.doc.doc_info.DocInfo><code class="xref py py-class docutils literal notranslate"><span class=pre>DocInfo</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the documentation information</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span><span class=p>,</span> <span class=n>join</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>r</span> <span class=o>=</span> <span class=n>load_doc_info_from_setup_cfg</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span>
<span class=gp>... </span>        <span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)))),</span> <span class=s2>"setup.cfg"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>r</span><span class=o>.</span><span class=n>title</span>
<span class=go>'*pycommons:* Common Utility Functions for Python Projects.'</span>
<span class=gp>>>> </span><span class=n>r</span><span class=o>.</span><span class=n>doc_url</span>
<span class=go>'https://thomasweise.github.io/pycommons'</span>
<span class=gp>>>> </span><span class=n>r</span><span class=o>.</span><span class=n>project</span>
<span class=go>'pycommons'</span>
<span class=gp>>>> </span><span class=n>r</span><span class=o>.</span><span class=n>author</span>
<span class=go>'Thomas Weise'</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.doc_info.parse_version_py><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.doc_info.</span></span><span class="sig-name descname"><span class=pre>parse_version_py</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>version_file</span></span></em>, <em class=sig-param><span class=n><span class=pre>version_attr</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'__version__'</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/doc_info.html#parse_version_py><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.doc_info.parse_version_py>¶</a><dd><p>Parse a <cite>version.py</cite> file and return the version string.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>version_file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the version file<li><p><strong>version_attr</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'__version__'</span></code>) – the version attribute</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the version string</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>join</span><span class=p>,</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>s</span> <span class=o>=</span> <span class=n>parse_version_py</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))),</span>
<span class=gp>... </span>        <span class=s2>"version.py"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[:</span><span class=n>s</span><span class=o>.</span><span class=n>rindex</span><span class=p>(</span><span class=s2>"."</span><span class=p>)])</span>
<span class=go>0.8</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>parse_version_py</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>parse_version_py</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>parse_version_py</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>parse_version_py</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>parse_version_py</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid version attr ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>        <span class=n>parse_version_py</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"xyz"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>36</span><span class=p>])</span>
<span class=go>Did not find version attr 'xyz' in '</span>
</pre></div></div></dl></section><section id=module-pycommons.dev.doc.index_rst><span id=pycommons-dev-doc-index-rst-module></span><h2>pycommons.dev.doc.index_rst module<a title="Link to this heading"class=headerlink href=#module-pycommons.dev.doc.index_rst>¶</a></h2><p>Make an <cite>index.rst</cite> file.<p>In all of my projects, the <cite>index.rst</cite> files have the same contents, basically. So here we generate them on the fly based on the documentation information data. Since this data contains the index of the last section in the <cite>README.md</cite> files, this allows me to properly number the code section.<dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.index_rst.make_index_rst><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.index_rst.</span></span><span class="sig-name descname"><span class=pre>make_index_rst</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>info</span></span></em>, <em class=sig-param><span class=n><span class=pre>collector</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/index_rst.html#make_index_rst><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.index_rst.make_index_rst>¶</a><dd><p>Create the <cite>index.rst</cite> file contents.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>info</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo title=pycommons.dev.doc.doc_info.DocInfo><code class="xref py py-class docutils literal notranslate"><span class=pre>DocInfo</span></code></a></span>) – The documentation information<li><p><strong>collector</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a>]</span>) – the collector to receive the information.</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>di</span> <span class=o>=</span> <span class=n>DocInfo</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"bla"</span><span class=p>,</span> <span class=s2>"1.2"</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span>
<span class=gp>... </span>             <span class=s2>"https://example.com"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=n>l</span> <span class=o>=</span> <span class=p>[]</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>make_index_rst</span><span class=p>(</span><span class=n>di</span><span class=p>,</span> <span class=n>l</span><span class=o>.</span><span class=n>append</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=go>bla</span>
<span class=go>===</span>

<span class=go>* :ref:`genindex`</span>
<span class=go>* :ref:`modindex`</span>
<span class=go>* :ref:`search`</span>

<span class=go>.. include:: README.md</span>
<span class=go>   :parser: myst_parser.sphinx_</span>

<span class=go>13. Modules and Code</span>
<span class=go>--------------------</span>

<span class=go>.. toctree::</span>
<span class=go>   :maxdepth: 4</span>

<span class=go>   modules</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_index_rst</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>info should be an instance of pycommons.dev.doc.doc_info.DocInfo but i</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_index_rst</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>info should be an instance of pycommons.dev.doc.doc_info.DocInfo but i</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_index_rst</span><span class=p>(</span><span class=n>di</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>collector should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_index_rst</span><span class=p>(</span><span class=n>di</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>collector should be a callable but is int, namely 1.</span>
</pre></div></div></dl></section><section id=module-pycommons.dev.doc.process_md><span id=pycommons-dev-doc-process-md-module></span><h2>pycommons.dev.doc.process_md module<a title="Link to this heading"class=headerlink href=#module-pycommons.dev.doc.process_md>¶</a></h2><p>Process a markdown file in order to make it useful for distribution.<p>In order to let sphinx properly load and insert the <cite>README.md</cite> file into the project’s documentation, we need to process this file from the GitHub style markdown to a variant suitable for the myst parser used in sphinx. While we are at it, we can also turn absolute URLs from the GitHub-<cite>README.md</cite> file that point to the documentation URL to relative URLs.<dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.process_md.process_markdown_for_sphinx><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.process_md.</span></span><span class="sig-name descname"><span class=pre>process_markdown_for_sphinx</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>source</span></span></em>, <em class=sig-param><span class=n><span class=pre>dest</span></span></em>, <em class=sig-param><span class=n><span class=pre>base_urls</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>full_urls</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>discard_until</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'##</span> <span class=pre>1.</span> <span class=pre>Introduction'</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/process_md.html#process_markdown_for_sphinx><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.process_md.process_markdown_for_sphinx>¶</a><dd><p>Process a markdown file in order to make it useful for distribution.</p> <p>This process changes the GitHub-style markdown to a format that the myst parser, which is used by sphinx, can render properly. This involves several issues:</p> <ol class="arabic simple"><li><p>We discard the top-level heading.<li><p>We need to move all sub-headings one step up.<li><p>Furthermore, we can turn all absolute URLs pointing to the documentation website to local references starting with <cite>./</cite>.<li><p>The myst parser drops the numerical prefixes of links, i.e., it tags <cite>## 1.2. Hello</cite> with id <cite>hello</cite> instead of <cite>12-hello</cite>. This means that we need to fix all references following the pattern <cite>[xxx](#12-hello)</cite> to <cite>[xxx](#hello)</cite>.</ol> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>source</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the source line iterable<li><p><strong>dest</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a>]</span>) – the destination callable receiving the output<li><p><strong>base_urls</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Mapping><code class="xref py py-class docutils literal notranslate"><span class=pre>Mapping</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a mapping of basic urls to shortcuts<li><p><strong>full_urls</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Mapping><code class="xref py py-class docutils literal notranslate"><span class=pre>Mapping</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a mapping of full urls to abbreviations<li><p><strong>discard_until</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'##</span> <span class=pre>1.</span> <span class=pre>Introduction'</span></code>) – discard all strings until reaching this line. If this is <cite>None</cite>, all lines will be used. If this is not <cite>None</cite>, then this will be the first line to be forwarded to <cite>dest</cite></ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>lp</span> <span class=o>=</span> <span class=nb>list</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>src</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"![image](https://example.com/1.jp)"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"# This is `pycommons!`"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"Table of contents"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"## 1. Introduction"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"blabla bla &LThttps://example.com/A>!"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"## 2. Some More Text"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"We [also say](https://example.com/z/hello.txt) stuff."</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"### 2.4. Code Example"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"```"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"But [not in code](https://example.com/z/hello.txt)."</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"```"</span><span class=p>,</span>
<span class=gp>... </span>       <span class=s2>"See also [here](#24-code-example)."</span><span class=p>]</span>
<span class=gp>>>> </span><span class=n>process_markdown_for_sphinx</span><span class=p>(</span><span class=n>src</span><span class=p>,</span> <span class=nb>print</span><span class=p>,</span>
<span class=gp>... </span>    <span class=p>{</span><span class=s2>"https://example.com/"</span><span class=p>:</span> <span class=s2>"./"</span><span class=p>},</span>
<span class=gp>... </span>    <span class=p>{</span><span class=s2>"https://example.com/A"</span><span class=p>:</span> <span class=s2>"xyz"</span><span class=p>})</span>
<span class=go># 1. Introduction</span>
<span class=go>blabla bla &LTxyz>!</span>
<span class=go># 2. Some More Text</span>
<span class=go>We [also say](./z/hello.txt) stuff.</span>
<span class=go>## 2.4. Code Example</span>
<span class=go>```</span>
<span class=go>But [not in code](https://example.com/z/hello.txt).</span>
<span class=go>```</span>
<span class=go>See also [here](#code-example).</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>source should be an instance of typing.Iterable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>source should be an instance of typing.Iterable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=kc>None</span><span class=p>],</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'rstrip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=mi>1</span><span class=p>],</span> <span class=nb>print</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'rstrip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>dest should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>dest should be a callable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=nb>print</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"bla"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>base_urls should be an instance of typing.Mapping but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=nb>print</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"bla"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>full_urls should be an instance of typing.Mapping but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=nb>print</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=nb>print</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>discard_until cannot be ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>process_markdown_for_sphinx</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=nb>print</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</pre></div></div></dl></section><section id=module-pycommons.dev.doc.setup_doc><span id=pycommons-dev-doc-setup-doc-module></span><h2>pycommons.dev.doc.setup_doc module<a title="Link to this heading"class=headerlink href=#module-pycommons.dev.doc.setup_doc>¶</a></h2><p>Set up the documentation builder in a unified way.<dl class="py function"><dt class="sig sig-object py"id=pycommons.dev.doc.setup_doc.setup_doc><span class="sig-prename descclassname"><span class=pre>pycommons.dev.doc.setup_doc.</span></span><span class="sig-name descname"><span class=pre>setup_doc</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>doc_dir</span></span></em>, <em class=sig-param><span class=n><span class=pre>root_dir</span></span></em>, <em class=sig-param><span class=n><span class=pre>copyright_start_year</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>dependencies</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>base_urls</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>full_urls</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>static_paths</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/dev/doc/setup_doc.html#setup_doc><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.dev.doc.setup_doc.setup_doc>¶</a><dd><p>Set up the documentation building process in a unified way.</p> <p>This function must be called directly from the <cite>conf.py</cite> script. It will configure the sphinx documentation generation engine using my default settings. It can automatically link to several standard dependencies, render the <cite>README.md</cite> file of the project to a format that the myst parser used by sphinx can understand, fix absolute URLs in the <cite>README.md</cite> file that point to the documentation URL to relative links, get the documentation URL, the project title, author, and version from the root <cite>setup.cfg</cite> file from which it traces to the <cite>README.md</cite> and the <cite>version.py</cite> file of the project, and also construct an <cite>index.rst</cite> file. All in all, you will end up with a very unified setup for the documentation generation. Nothing fancy, but it will work and work the same in all of my projects without the need to copy and maintain boilerplate code.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>doc_dir</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the folder where the documentation is to be built.<li><p><strong>root_dir</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the root path of the project.<li><p><strong>copyright_start_year</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the copyright start year<li><p><strong>dependencies</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the external libraries to use<li><p><strong>base_urls</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Mapping><code class="xref py py-class docutils literal notranslate"><span class=pre>Mapping</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a mapping of basic urls to shortcuts<li><p><strong>full_urls</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Mapping><code class="xref py py-class docutils literal notranslate"><span class=pre>Mapping</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a mapping of full urls to abbreviations<li><p><strong>static_paths</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a list of static paths, if there are any</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>pycommons.dev.doc package</a><ul><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-pycommons.dev.doc.doc_info>pycommons.dev.doc.doc_info module</a><ul><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo><code class="docutils literal notranslate"><span class=pre>DocInfo</span></code></a><ul><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.author><code class="docutils literal notranslate"><span class=pre>DocInfo.author</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.doc_url><code class="docutils literal notranslate"><span class=pre>DocInfo.doc_url</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.last_major_section_index><code class="docutils literal notranslate"><span class=pre>DocInfo.last_major_section_index</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.project><code class="docutils literal notranslate"><span class=pre>DocInfo.project</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.readme_md_file><code class="docutils literal notranslate"><span class=pre>DocInfo.readme_md_file</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.title><code class="docutils literal notranslate"><span class=pre>DocInfo.title</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.DocInfo.version><code class="docutils literal notranslate"><span class=pre>DocInfo.version</span></code></a></ul><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.extract_md_infos><code class="docutils literal notranslate"><span class=pre>extract_md_infos()</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.load_doc_info_from_setup_cfg><code class="docutils literal notranslate"><span class=pre>load_doc_info_from_setup_cfg()</span></code></a><li><a class="reference internal"href=#pycommons.dev.doc.doc_info.parse_version_py><code class="docutils literal notranslate"><span class=pre>parse_version_py()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.dev.doc.index_rst>pycommons.dev.doc.index_rst module</a><ul><li><a class="reference internal"href=#pycommons.dev.doc.index_rst.make_index_rst><code class="docutils literal notranslate"><span class=pre>make_index_rst()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.dev.doc.process_md>pycommons.dev.doc.process_md module</a><ul><li><a class="reference internal"href=#pycommons.dev.doc.process_md.process_markdown_for_sphinx><code class="docutils literal notranslate"><span class=pre>process_markdown_for_sphinx()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.dev.doc.setup_doc>pycommons.dev.doc.setup_doc module</a><ul><li><a class="reference internal"href=#pycommons.dev.doc.setup_doc.setup_doc><code class="docutils literal notranslate"><span class=pre>setup_doc()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=pycommons.dev.building.html>pycommons.dev.building package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=pycommons.dev.tests.html>pycommons.dev.tests package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/pycommons.dev.doc.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.dev.tests package"href=pycommons.dev.tests.html>next</a> |<li class=right><a title="pycommons.dev.building package"href=pycommons.dev.building.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.70 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-3"><a href=pycommons.dev.html>pycommons.dev package</a> »<li class="nav-item nav-item-this"><a href>pycommons.dev.doc package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2025, Thomas Weise.</div>
