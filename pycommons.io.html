<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>pycommons.io package — pycommons 0.8.89 documentation</title><link href="/pycommons/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/pycommons/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/pycommons/_static/documentation_options.js?v=4db5eb0a"></script><script src="/pycommons/_static/doctools.js?v=fd6eb6e6"></script><script src="/pycommons/_static/sphinx_highlight.js?v=6ffebe34"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/pycommons/pycommons.io.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="pycommons.math package"href=pycommons.math.html rel=next><link title="pycommons.ds package"href=pycommons.ds.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.math package"accesskey=N href=pycommons.math.html>next</a> |<li class=right><a title="pycommons.ds package"accesskey=P href=pycommons.ds.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.89 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a accesskey=U href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-this"><a href>pycommons.io package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-pycommons.io><span id=pycommons-io-package></span><h1>pycommons.io package<a title="Link to this heading"class=headerlink href=#module-pycommons.io>¶</a></h1><p>Common utilities for input and output.<section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-pycommons.io.arguments><span id=pycommons-io-arguments-module></span><h2>pycommons.io.arguments module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.arguments>¶</a></h2><p>The parser for command line arguments.<dl class="py function"><dt class="sig sig-object py"id=pycommons.io.arguments.make_argparser><span class="sig-prename descclassname"><span class=pre>pycommons.io.arguments.</span></span><span class="sig-name descname"><span class=pre>make_argparser</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>file</span></span></em>, <em class=sig-param><span class=n><span class=pre>description</span></span></em>, <em class=sig-param><span class=n><span class=pre>epilog</span></span></em>, <em class=sig-param><span class=n><span class=pre>version</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/arguments.html#make_argparser><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.arguments.make_argparser>¶</a><dd><p>Create an argument parser with default settings.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the <cite>__file__</cite> special variable of the calling script<li><p><strong>description</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the description string<li><p><strong>epilog</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the epilogue string<li><p><strong>version</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – an optional version string</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser><code class="xref py py-class docutils literal notranslate"><span class=pre>ArgumentParser</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the argument parser</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ap</span> <span class=o>=</span> <span class=n>make_argparser</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a test program."</span><span class=p>,</span>
<span class=gp>... </span>                    <span class=s2>"This is a test."</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>isinstance</span><span class=p>(</span><span class=n>ap</span><span class=p>,</span> <span class=n>ArgumentParser</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>ap</span><span class=o>.</span><span class=n>print_usage</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>usage: python3 -m pycommons.io.arguments [-h]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>ap</span><span class=o>.</span><span class=n>print_help</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>usage: python3 -m pycommons.io.arguments [-h]</span>

<span class=go>This is a test program.</span>

<span class=go>options:</span>
<span class=go>  -h, --help  show this help message and exit</span>

<span class=go>This is a test.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ap</span> <span class=o>=</span> <span class=n>make_argparser</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a test program."</span><span class=p>,</span>
<span class=gp>... </span>                    <span class=s2>"This is a test."</span><span class=p>,</span> <span class=s2>"0.2"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>isinstance</span><span class=p>(</span><span class=n>ap</span><span class=p>,</span> <span class=n>ArgumentParser</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>ap</span><span class=o>.</span><span class=n>print_usage</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>usage: python3 -m pycommons.io.arguments [-h] [--version]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>ap</span><span class=o>.</span><span class=n>print_help</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>usage: python3 -m pycommons.io.arguments [-h] [--version]</span>

<span class=go>This is a test program.</span>

<span class=go>options:</span>
<span class=go>  -h, --help  show this help message and exit</span>
<span class=go>  --version   show program's version number and exit</span>

<span class=go>This is a test.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ap</span> <span class=o>=</span> <span class=n>make_argparser</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a test program."</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This program computes something"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=mi>2022</span><span class=p>,</span> <span class=mi>2023</span><span class=p>,</span> <span class=s2>"Thomas Weise"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=n>url</span><span class=o>=</span><span class=s2>"https://github.com/thomasWeise/pycommons"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=n>email</span><span class=o>=</span><span class=s2>"tweise@hfuu.edu.cn"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>s</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>s</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>ap</span><span class=o>.</span><span class=n>print_help</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>v</span> <span class=o>=</span> <span class=p>(</span><span class=s1>'usage: python3 -m pycommons.io.arguments [-h]</span><span class=se>\n\n</span><span class=s1>This is '</span>
<span class=gp>... </span>     <span class=s1>'a test program.</span><span class=se>\n\n</span><span class=s1>options:</span><span class=se>\n</span><span class=s1>  -h, --help  show this help '</span>
<span class=gp>... </span>     <span class=s1>'message and exit</span><span class=se>\n\n</span><span class=s1>This program computes something Copyright'</span>
<span class=gp>... </span>     <span class=s1>'</span><span class=se>\xa0</span><span class=s1>©</span><span class=se>\xa0</span><span class=s1>2022</span><span class=se>\u2011</span><span class=s1>2023,</span><span class=se>\xa0</span><span class=s1>Thomas</span><span class=se>\xa0</span><span class=s1>Weise,</span><span class=se>\n</span><span class=s1>GNU</span><span class=se>\xa0</span><span class=s1>GENERAL'</span>
<span class=gp>... </span>     <span class=s1>'</span><span class=se>\xa0</span><span class=s1>PUBLIC</span><span class=se>\xa0</span><span class=s1>LICENSE</span><span class=se>\xa0</span><span class=s1>Version</span><span class=se>\xa0</span><span class=s1>3,</span><span class=se>\xa0</span><span class=s1>29</span><span class=se>\xa0</span><span class=s1>June'</span>
<span class=gp>... </span>     <span class=s1>'</span><span class=se>\xa0</span><span class=s1>2007,</span><span class=se>\n</span><span class=s1>https://github.com/thomasWeise/pycommons, '</span>
<span class=gp>... </span>     <span class=s1>'tweise@hfuu.edu.cn</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>s</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()</span> <span class=o>==</span> <span class=n>v</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"te"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid file='te'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"test"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"Test"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"Test"</span><span class=p>,</span> <span class=s2>"Bla"</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid description='Bla'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"Test"</span><span class=p>,</span> <span class=s2>"This is a long test"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"Test"</span><span class=p>,</span> <span class=s2>"This is a long test"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=s2>"Test"</span><span class=p>,</span> <span class=s2>"This is a long test"</span><span class=p>,</span> <span class=s2>"epi"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid epilog='epi'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a long test"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>"long long long epilog"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_argparser</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a long test"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>"long long long epilog"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid version string ' '.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.arguments.make_epilog><span class="sig-prename descclassname"><span class=pre>pycommons.io.arguments.</span></span><span class="sig-name descname"><span class=pre>make_epilog</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em>, <em class=sig-param><span class=n><span class=pre>copyright_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>copyright_end</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>author</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>the_license</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'GNU</span> <span class=pre>GENERAL</span> <span class=pre>PUBLIC</span> <span class=pre>LICENSE</span> <span class=pre>Version</span> <span class=pre>3,</span> <span class=pre>29</span> <span class=pre>June</span> <span class=pre>2007'</span></span></em>, <em class=sig-param><span class=n><span class=pre>url</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>email</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/arguments.html#make_epilog><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.arguments.make_epilog>¶</a><dd><p>Build an epilogue from the given components.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the epilog text<li><p><strong>copyright_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the start year of the copyright, or <cite>None</cite> for no copyright duration<li><p><strong>copyright_end</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the end year of the copyright, or <cite>None</cite> for using the current year (unless <cite>copyright_start</cite> is <cite>None</cite>, in which case, no copyright information is generated).<li><p><strong>author</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the author name, or <cite>None</cite> for no author<li><p><strong>the_license</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'GNU</span> <span class=pre>GENERAL</span> <span class=pre>PUBLIC</span> <span class=pre>LICENSE</span> <span class=pre>Version</span> <span class=pre>3,</span> <span class=pre>29</span> <span class=pre>June</span> <span class=pre>2007'</span></code>) – the license, or <cite>None</cite> for no license<li><p><strong>url</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the URL, or <cite>None</cite> for no URL<li><p><strong>email</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the email address(es) of the author, or <cite>None</cite> for no email address information</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the copyright information</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>cy</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(</span><span class=n>tz</span><span class=o>=</span><span class=n>UTC</span><span class=p>)</span><span class=o>.</span><span class=n>year</span>
<span class=gp>>>> </span><span class=n>ex</span> <span class=o>=</span> <span class=p>(</span><span class=sa>f</span><span class=s2>"This is a test.</span><span class=se>\n\n</span><span class=s2>GNU</span><span class=se>\xa0</span><span class=s2>GENERAL</span><span class=se>\xa0</span><span class=s2>PUBLIC</span><span class=se>\xa0</span><span class=s2>LICENSE"</span>
<span class=gp>... </span>      <span class=s2>"</span><span class=se>\xa0</span><span class=s2>Version</span><span class=se>\xa0</span><span class=s2>3,</span><span class=se>\xa0</span><span class=s2>29</span><span class=se>\xa0</span><span class=s2>June</span><span class=se>\xa0</span><span class=s2>2007"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>)</span> <span class=o>==</span> <span class=n>ex</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2011</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[:</span><span class=mi>50</span><span class=p>]</span>
<span class=go>'This is a test.\n\nCopyright\xa0©\xa02011\u20112030,\xa0Test\xa0User,'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ex</span> <span class=o>=</span> <span class=p>(</span><span class=sa>f</span><span class=s2>"This is a test.</span><span class=se>\n\n</span><span class=s2>Copyright</span><span class=se>\xa0</span><span class=s2>©</span><span class=se>\xa0</span><span class=s2>2011</span><span class=se>\u2011</span><span class=si>{</span><span class=n>cy</span><span class=si>}</span><span class=s2>,"</span>
<span class=gp>... </span>       <span class=s2>"</span><span class=se>\xa0</span><span class=s2>Test</span><span class=se>\xa0</span><span class=s2>User, Test</span><span class=se>\xa0</span><span class=s2>License, http://testurl, "</span>
<span class=gp>... </span>       <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2011</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span> <span class=o>==</span> <span class=n>ex</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2011</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[</span><span class=mi>50</span><span class=p>:]</span>
<span class=go>' Test\xa0License, http://testurl, test@test.com'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[:</span><span class=mi>50</span><span class=p>]</span>
<span class=go>'This is a test.\n\nCopyright\xa0©\xa02030,\xa0Test\xa0User, Test'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=mi>2030</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[</span><span class=mi>50</span><span class=p>:]</span>
<span class=go>'\xa0License, http://testurl, test@test.com'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[:</span><span class=mi>50</span><span class=p>]</span>
<span class=go>'This is a test.\n\nTest\xa0User, Test\xa0License, http://t'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>            <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)[</span><span class=mi>50</span><span class=p>:]</span>
<span class=go>'esturl, test@test.com'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Epilog text too short: '1'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>copyright_start should be an instance of int but is str, namely 'v'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>copyright_start=-2 is invalid, must be in 1970..2500.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>3455334</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>copyright_start=3455334 is invalid, must be in 1970..2500.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2002</span><span class=p>,</span> <span class=s2>"v"</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>copyright_end should be an instance of int but is str, namely 'v'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2002</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>copyright_end=12 is invalid, must be in 2002..2500.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=mi>2023</span><span class=p>,</span> <span class=mi>3455334</span><span class=p>,</span> <span class=s2>"Test User"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>copyright_end=3455334 is invalid, must be in 2023..2500.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Test License"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Author too short: ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=mi>23</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"Te"</span><span class=p>,</span> <span class=s2>"http://testurl"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>License too short: 'Te'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"GPL"</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"GPL"</span><span class=p>,</span> <span class=s2>"http"</span><span class=p>,</span> <span class=s2>"test@test.com"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Url too short: 'http'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"GPL"</span><span class=p>,</span> <span class=s2>"http://www.test.com"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>make_epilog</span><span class=p>(</span><span class=s2>"This is a test."</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"Tester"</span><span class=p>,</span>
<span class=gp>... </span>                <span class=s2>"GPL"</span><span class=p>,</span> <span class=s2>"http://www.test.com"</span><span class=p>,</span> <span class=s2>"a@b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Email too short: 'a@b'.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.arguments.pycommons_argparser><span class="sig-prename descclassname"><span class=pre>pycommons.io.arguments.</span></span><span class="sig-name descname"><span class=pre>pycommons_argparser</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>file</span></span></em>, <em class=sig-param><span class=n><span class=pre>description</span></span></em>, <em class=sig-param><span class=n><span class=pre>epilog</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/arguments.html#pycommons_argparser><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.arguments.pycommons_argparser>¶</a><dd><p>Create an argument parser with default settings for <cite>pycommons</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the <cite>__file__</cite> special variable of the calling script<li><p><strong>description</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the description string<li><p><strong>epilog</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the epilogue string</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/argparse.html#argparse.ArgumentParser><code class="xref py py-class docutils literal notranslate"><span class=pre>ArgumentParser</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the argument parser</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ap</span> <span class=o>=</span> <span class=n>pycommons_argparser</span><span class=p>(</span>
<span class=gp>... </span>    <span class=vm>__file__</span><span class=p>,</span> <span class=s2>"This is a test program."</span><span class=p>,</span> <span class=s2>"This is a test."</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>isinstance</span><span class=p>(</span><span class=n>ap</span><span class=p>,</span> <span class=n>ArgumentParser</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=s2>"Copyright"</span> <span class=ow>in</span> <span class=n>ap</span><span class=o>.</span><span class=n>epilog</span>
<span class=go>True</span>
</pre></div></div></dl></section><section id=module-pycommons.io.console><span id=pycommons-io-console-module></span><h2>pycommons.io.console module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.console>¶</a></h2><p>The <cite>logger</cite> routine for writing a log string to stdout.<dl class="py function"><dt class="sig sig-object py"id=pycommons.io.console.logger><span class="sig-prename descclassname"><span class=pre>pycommons.io.console.</span></span><span class="sig-name descname"><span class=pre>logger</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>message</span></span></em>, <em class=sig-param><span class=n><span class=pre>note</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>''</span></span></em>, <em class=sig-param><span class=n><span class=pre>do_print</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/console.html#logger><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.console.logger>¶</a><dd><p>Write a message to the console log.</p> <p>The line starts with the current date and time, includes the note, and then the message string after an “: “. This function can use a <cite>lock</cite> context to prevent multiple processes or threads to write to the console at the same time.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>message</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the message<li><p><strong>note</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>''</span></code>) – a note to put between the time and the message<li><p><strong>do_print</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – really print the output, by default <cite>False</cite> if this method is called from a “doctest”, <cite>True</cite> otherwise</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>contextlib</span><span class=w> </span><span class=kn>import</span> <span class=n>redirect_stdout</span>
<span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>dt1</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>sio</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>logger</span><span class=p>(</span><span class=s2>"hello world!"</span><span class=p>,</span> <span class=n>do_print</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>line</span> <span class=o>=</span> <span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>line</span><span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>" "</span><span class=p>,</span> <span class=n>line</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>" "</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span><span class=p>:])</span>
<span class=go>hello world!</span>
<span class=gp>>>> </span><span class=n>dt2</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>dtx</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>strptime</span><span class=p>(</span><span class=n>line</span><span class=p>[:</span><span class=mi>26</span><span class=p>],</span> <span class=s2>"%Y-%m-</span><span class=si>%d</span><span class=s2> %H:%M:%S.</span><span class=si>%f</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>dt1</span> <span class=o><=</span> <span class=n>dtx</span> <span class=o><=</span> <span class=n>dt2</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>redirect_stdout</span><span class=p>(</span><span class=n>sio</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>logger</span><span class=p>(</span><span class=s2>"hello world!"</span><span class=p>,</span> <span class=s2>"note"</span><span class=p>,</span> <span class=n>do_print</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>line</span> <span class=o>=</span> <span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>line</span><span class=p>[</span><span class=n>line</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>"n"</span><span class=p>):])</span>
<span class=go>note: hello world!</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>logger</span><span class=p>(</span><span class=s2>"hello world"</span><span class=p>)</span>  <span class=c1># not printed in doctests</span>
<span class=gp>>>> </span><span class=n>logger</span><span class=p>(</span><span class=s2>"hello world"</span><span class=p>,</span> <span class=n>do_print</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>  <span class=c1># not printed anyway</span>
</pre></div></div></dl></section><section id=module-pycommons.io.csv><span id=pycommons-io-csv-module></span><h2>pycommons.io.csv module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.csv>¶</a></h2><p>Tools for CSV output and input.<p>Our CSV format tools are intended to read and write structured objects from and to a comma-separated-values format. This format consists of one header, where the column titles are included (separated by a <a class="reference internal"href=#pycommons.io.csv.CSV_SEPARATOR title=pycommons.io.csv.CSV_SEPARATOR><code class="xref py py-const docutils literal notranslate"><span class=pre>CSV_SEPARATOR</span></code></a>) and one row per data object, with one value per column.<p>Different from other CSV processing tools, we want to<ol class="arabic simple"><li><p>Permit that data is extracted from / parsed in form of hierarchically structured objects.<li><p>Columns have fixed types based on the object definition.<li><p>The data read and written is strictly validated during the process.<li><p>Data can be processed in form of a stream and is not necessarily all loaded into memory at once.<li><p>The order of the columns is unimportant.<li><p>Useless white space is automatically stripped and ignored.<li><p>Multiple objects may be written per row, maybe even nested objects, and this is signified by “scope” column titles, e.g., something like <cite>“weight.min”</cite>, <cite>“weight.median”</cite>, …, <cite>“age.min”</cite>, <cite>“age.median”</cite>, …<li><p>Comments may be added to the header or footer of the CSV file that describe the contents of the columns.</ol><p>The separator is configurable, but by default set to <a class="reference internal"href=#pycommons.io.csv.CSV_SEPARATOR title=pycommons.io.csv.CSV_SEPARATOR><code class="xref py py-const docutils literal notranslate"><span class=pre>CSV_SEPARATOR</span></code></a>. Comments start with a comment start with <a class="reference internal"href=#pycommons.io.csv.COMMENT_START title=pycommons.io.csv.COMMENT_START><code class="xref py py-const docutils literal notranslate"><span class=pre>COMMENT_START</span></code></a> by default.<dl class="py data"><dt class="sig sig-object py"id=pycommons.io.csv.COMMENT_START><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>COMMENT_START</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'#'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.COMMENT_START>¶</a><dd><p>everything after this character is considered a comment</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.io.csv.CSV_SEPARATOR><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>CSV_SEPARATOR</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>';'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CSV_SEPARATOR>¶</a><dd><p>the default CSV separator</p></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.csv.CsvReader><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>CsvReader</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>columns</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvReader><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvReader>¶</a><dd><p>Bases: <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generic><code class="xref py py-class docutils literal notranslate"><span class=pre>Generic</span></code></a></p> <p>A base class for CSV readers.</p> <p>Using this class and its <a class="reference internal"href=#pycommons.io.csv.CsvReader.read title=pycommons.io.csv.CsvReader.read><code class="xref py py-meth docutils literal notranslate"><span class=pre>read()</span></code></a> class method provides for a more elegant way to construct nested and combined CSV formats compared to creating classes and handing their methods to <a class="reference internal"href=#pycommons.io.csv.csv_read title=pycommons.io.csv.csv_read><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_read()</span></code></a>.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>class</span><span class=w> </span><span class=nc>R</span><span class=p>(</span><span class=n>CsvReader</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>columns</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-></span> <span class=kc>None</span><span class=p>:</span>
<span class=gp>... </span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>columns</span><span class=p>)</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>cols</span> <span class=o>=</span> <span class=n>columns</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>parse_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>row</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=nb>dict</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=n>row</span><span class=p>[</span><span class=n>y</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cols</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;c;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>" 5 ;6 "</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>""</span><span class=p>,</span> <span class=s2>"10"</span><span class=p>,</span> <span class=s2>"# 11;12"</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>R</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a,b,c,d"</span><span class=p>,</span> <span class=s2>"v test"</span><span class=p>,</span> <span class=s2>" 1, 2,3,4"</span><span class=p>,</span> <span class=s2>" 5 ,6 "</span><span class=p>,</span> <span class=s2>",8,,9"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>""</span><span class=p>,</span> <span class=s2>"10"</span><span class=p>,</span> <span class=s2>"v 11,12"</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>R</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>separator</span><span class=o>=</span><span class=s1>','</span><span class=p>,</span> <span class=n>comment_start</span><span class=o>=</span><span class=s1>'v'</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>class</span><span class=w> </span><span class=nc>S</span><span class=p>(</span><span class=n>CsvReader</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>columns</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>],</span> <span class=n>add</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-></span> <span class=kc>None</span><span class=p>:</span>
<span class=gp>... </span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>columns</span><span class=p>)</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>cols</span> <span class=o>=</span> <span class=n>columns</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>s</span> <span class=o>=</span> <span class=n>add</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>parse_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>row</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=nb>dict</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>s</span> <span class=o>+</span> <span class=n>row</span><span class=p>[</span><span class=n>y</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>cols</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;c;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>" 5 ;6 "</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>""</span><span class=p>,</span> <span class=s2>"10"</span><span class=p>,</span> <span class=s2>"# 11;12"</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>S</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>add</span><span class=o>=</span><span class=s2>"b"</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': 'b1', 'b': 'b2', 'c': 'b3', 'd': 'b4'}</span>
<span class=go>{'a': 'b5', 'b': 'b6', 'c': 'b', 'd': 'b'}</span>
<span class=go>{'a': 'b', 'b': 'b8', 'c': 'b', 'd': 'b9'}</span>
<span class=go>{'a': 'b10', 'b': 'b', 'c': 'b', 'd': 'b'}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ccc</span> <span class=o>=</span> <span class=n>S</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span> <span class=n>add</span><span class=o>=</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>ccc</span><span class=o>.</span><span class=n>parse_optional_row</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>S</span><span class=o>.</span><span class=n>parse_optional_row</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>((</span><span class=n>ccc</span><span class=p>)</span><span class=o>.</span><span class=n>parse_optional_row</span><span class=p>([</span><span class=s2>"x"</span><span class=p>,</span> <span class=s2>"y"</span><span class=p>]))</span>
<span class=go>{'a': 'xy'}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvReader</span><span class=p>(</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>columns should be an instance of dict but is str, namely 'x'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvReader</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>1</span><span class=p>})</span><span class=o>.</span><span class=n>parse_row</span><span class=p>([</span><span class=s2>"a"</span><span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>NotImplementedError</span> <span class=k>as</span> <span class=n>nie</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>nie</span><span class=p>))</span>
<span class=go>&LTclass 'NotImplementedError'></span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvReader.parse_optional_row><span class="sig-name descname"><span class=pre>parse_optional_row</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvReader.parse_optional_row><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvReader.parse_optional_row>¶</a><dd><p>Parse a row of data that may be incomplete or empty.</p> <p>The default implementation of this method returns <cite>None</cite> if the data row is <cite>None</cite>, or if <cite>self</cite> is <cite>None</cite>, which should never happen. Otherwise, it calls <a class="reference internal"href=#pycommons.io.csv.CsvReader.parse_row title=pycommons.io.csv.CsvReader.parse_row><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse_row()</span></code></a>, which will probably raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>] | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the row of data that may be empty</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>an object constructed from the partial row, if possible, or <cite>None</cite></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvReader.parse_row><span class="sig-name descname"><span class=pre>parse_row</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvReader.parse_row><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvReader.parse_row>¶</a><dd><p>Parse a row of data.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the data row</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the object representing the row</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#NotImplementedError><strong>NotImplementedError</strong></a> – because it must be overridden<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – should raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a> if the row is incomplete or invalid</ul></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvReader.read><span class=property><span class=k><span class=pre>classmethod</span></span><span class=w> </span></span><span class="sig-name descname"><span class=pre>read</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>rows</span></span></em>, <em class=sig-param><span class=n><span class=pre>separator</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>';'</span></span></em>, <em class=sig-param><span class=n><span class=pre>comment_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'#'</span></span></em>, <em class=sig-param><span class=o><span class=pre>**</span></span><span class=n><span class=pre>kwargs</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvReader.read><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvReader.read>¶</a><dd><p>Parse a stream of CSV data.</p> <p>This class method creates a single new instance of <cite>cls</cite> and passes it the column names/indices as well as any additional named arguments of this method into the constructor. It then uses the method <a class="reference internal"href=#pycommons.io.csv.CsvReader.parse_row title=pycommons.io.csv.CsvReader.parse_row><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse_row()</span></code></a> of the class to parse the row data to generate the output stream.</p> <p>It offers a more convenient wrapper around <a class="reference internal"href=#pycommons.io.csv.csv_read title=pycommons.io.csv.csv_read><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_read()</span></code></a> for cases where it makes more sense to implement the parsing functionality in a class.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>rows</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the rows of strings with CSV data<li><p><strong>separator</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>';'</span></code>) – the separator character<li><p><strong>comment_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'#'</span></code>) – the comment start character</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p></dl></dl></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>CsvWriter</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em>, <em class=sig-param><span class=n><span class=pre>scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter>¶</a><dd><p>Bases: <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generic><code class="xref py py-class docutils literal notranslate"><span class=pre>Generic</span></code></a></p> <p>A base class for structured CSV writers.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>class</span><span class=w> </span><span class=nc>W</span><span class=p>(</span><span class=n>CsvWriter</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]],</span>
<span class=gp>... </span>                 <span class=n>scope</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-></span> <span class=kc>None</span><span class=p>:</span>
<span class=gp>... </span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>({</span><span class=n>dkey</span> <span class=k>for</span> <span class=n>datarow</span> <span class=ow>in</span> <span class=n>data</span>
<span class=gp>... </span>                                <span class=k>for</span> <span class=n>dkey</span> <span class=ow>in</span> <span class=n>datarow</span><span class=p>})</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_column_titles</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>))</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_header_comments</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>[</span><span class=s2>"This is a header comment."</span><span class=p>,</span> <span class=s2>" We have two of it. "</span><span class=p>]</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_footer_comments</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>[</span><span class=s2>" This is a footer comment."</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>dd</span> <span class=o>=</span> <span class=p>[{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>:</span> <span class=mi>2</span><span class=p>},</span> <span class=p>{</span><span class=s2>"b"</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>:</span> <span class=mi>8</span><span class=p>},</span>
<span class=gp>... </span>      <span class=p>{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>3</span><span class=p>},</span> <span class=p>{}]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>W</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>dd</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>[:</span><span class=o>-</span><span class=mi>8</span><span class=p>]</span> <span class=k>if</span> <span class=s2>"version"</span> <span class=ow>in</span> <span class=n>p</span> <span class=k>else</span> <span class=n>p</span><span class=p>)</span>
<span class=go># This is a header comment.</span>
<span class=go># We have two of it.</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
<span class=go># This is a footer comment.</span>
<span class=go>#</span>
<span class=go># This CSV output has been created using the versatile CSV API of pycommons.io.csv, version</span>
<span class=go># You can find pycommons at https://thomasweise.github.io/pycommons.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>class</span><span class=w> </span><span class=nc>W2</span><span class=p>(</span><span class=n>CsvWriter</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]],</span>
<span class=gp>... </span>                 <span class=n>scope</span><span class=p>:</span> <span class=nb>str</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-></span> <span class=kc>None</span><span class=p>:</span>
<span class=gp>... </span>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
<span class=gp>... </span>        <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>({</span><span class=n>dkey</span> <span class=k>for</span> <span class=n>datarow</span> <span class=ow>in</span> <span class=n>data</span>
<span class=gp>... </span>                            <span class=k>for</span> <span class=n>dkey</span> <span class=ow>in</span> <span class=n>datarow</span><span class=p>})</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_column_titles</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>scope</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=p>[</span>
<span class=gp>... </span>            <span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>scope</span><span class=si>}</span><span class=s2>.</span><span class=si>{</span><span class=n>r</span><span class=si>}</span><span class=s2>"</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>]</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>rows</span><span class=p>))</span>
<span class=gp>... </span>    <span class=k>def</span><span class=w> </span><span class=nf>get_footer_bottom_comments</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]</span> <span class=o>|</span> <span class=kc>None</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>[</span><span class=s2>"Bla!"</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>W2</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>separator</span><span class=o>=</span><span class=s2>"@"</span><span class=p>,</span> <span class=n>comment_start</span><span class=o>=</span><span class=s2>"B"</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a@b@c@d</span>
<span class=go>1@@2</span>
<span class=go>@6@8</span>
<span class=go>4@3@@12</span>
<span class=go>@</span>
<span class=go>B Bla!</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>W2</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>scope</span><span class=o>=</span><span class=s2>"k"</span><span class=p>,</span> <span class=n>separator</span><span class=o>=</span><span class=s2>"@"</span><span class=p>,</span> <span class=n>comment_start</span><span class=o>=</span><span class=s2>"B"</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>k.a@k.b@k.c@k.d</span>
<span class=go>1@@2</span>
<span class=go>@6@8</span>
<span class=go>4@3@@12</span>
<span class=go>@</span>
<span class=go>B Bla!</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=s2>";"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>W2</span><span class=p>(</span><span class=n>dd</span><span class=p>)</span><span class=o>.</span><span class=n>get_optional_row</span><span class=p>(</span><span class=kc>None</span><span class=p>))</span>
<span class=go>';;;'</span>
<span class=gp>>>> </span><span class=s2>";"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>W2</span><span class=p>(</span><span class=n>dd</span><span class=p>)</span><span class=o>.</span><span class=n>get_optional_row</span><span class=p>(</span><span class=n>dd</span><span class=p>[</span><span class=mi>0</span><span class=p>]))</span>
<span class=go>'1;;2;'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>data should be an instance of typing.Iterable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>([],</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>([],</span> <span class=s2>"x x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid scope 'x x'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>([],</span> <span class=s2>" x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>invalid scope ' x'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>([])</span><span class=o>.</span><span class=n>get_row</span><span class=p>(</span><span class=s2>"x"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>NotImplementedError</span> <span class=k>as</span> <span class=n>nie</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>nie</span><span class=p>))</span>
<span class=go>&LTclass 'NotImplementedError'></span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>CsvWriter</span><span class=p>([])</span><span class=o>.</span><span class=n>get_column_titles</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>NotImplementedError</span> <span class=k>as</span> <span class=n>nie</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>type</span><span class=p>(</span><span class=n>nie</span><span class=p>))</span>
<span class=go>&LTclass 'NotImplementedError'></span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_column_titles><span class="sig-name descname"><span class=pre>get_column_titles</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_column_titles><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_column_titles>¶</a><dd><p>Get the column titles.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the column titles</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_footer_bottom_comments><span class="sig-name descname"><span class=pre>get_footer_bottom_comments</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_footer_bottom_comments><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_footer_bottom_comments>¶</a><dd><p>Get the bottom footer comments.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>an iterator with the bottom comments</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_footer_comments><span class="sig-name descname"><span class=pre>get_footer_comments</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_footer_comments><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_footer_comments>¶</a><dd><p>Get any possible footer comments.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the footer comments</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_header_comments><span class="sig-name descname"><span class=pre>get_header_comments</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_header_comments><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_header_comments>¶</a><dd><p>Get any possible header comments.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the iterable of header comments</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_optional_row><span class="sig-name descname"><span class=pre>get_optional_row</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_optional_row><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_optional_row>¶</a><dd><p>Attach an empty row of the correct shape to the output.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]</span>) – the data item or <cite>None</cite></p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the optional row data</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.get_row><span class="sig-name descname"><span class=pre>get_row</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.get_row><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.get_row>¶</a><dd><p>Render a single sample statistics to a CSV row.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)</span>) – the data sample statistics</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the row iterator</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.scope><span class="sig-name descname"><span class=pre>scope</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=w> </span><span class=p><span class=pre>|</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><span class=pre>None</span></a><span class=p><span class=pre>]</span></span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.scope>¶</a><dd><p>the optional scope</p></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.csv.CsvWriter.write><span class=property><span class=k><span class=pre>classmethod</span></span><span class=w> </span></span><span class="sig-name descname"><span class=pre>write</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em>, <em class=sig-param><span class=n><span class=pre>scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>separator</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>';'</span></span></em>, <em class=sig-param><span class=n><span class=pre>comment_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'#'</span></span></em>, <em class=sig-param><span class=o><span class=pre>**</span></span><span class=n><span class=pre>kwargs</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#CsvWriter.write><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.CsvWriter.write>¶</a><dd><p>Write the CSV data based on the methods provided by the class <cite>cls</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]</span>) – the data<li><p><strong>separator</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>';'</span></code>) – the CSV separator<li><p><strong>comment_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'#'</span></code>) – the comment start character<li><p><strong>scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the scope, or <cite>None</cite><li><p><strong>kwargs</strong> – additional arguments to be passed to the constructor</ul><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>kwargs</cite> is not <cite>None</cite> but also not a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a></p><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p></dl></dl></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.csv.S><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>S</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.S>¶</a><dd><p>the type variable for the CSV output setup</p> <p>alias of TypeVar(‘S’)</p></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.io.csv.SCOPE_SEPARATOR><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>SCOPE_SEPARATOR</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'.'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.SCOPE_SEPARATOR>¶</a><dd><p>the separator to be used between scopes for nested column prefixes</p></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.csv.T><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>T</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.T>¶</a><dd><p>the type variable for data to be written to CSV or to be read from CSV</p> <p>alias of TypeVar(‘T’)</p></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.csv.U><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>U</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.U>¶</a><dd><p>a type variable for <a class="reference internal"href=#pycommons.io.csv.csv_val_or_none title=pycommons.io.csv.csv_val_or_none><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_val_or_none()</span></code></a>.</p> <p>alias of TypeVar(‘U’)</p></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_column><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_column</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>columns</span></span></em>, <em class=sig-param><span class=n><span class=pre>key</span></span></em>, <em class=sig-param><span class=n><span class=pre>remove_col</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_column><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_column>¶</a><dd><p>Get the index of a CSV column.</p> <p>This function will extract the index of a column from a column description map. The index will be checked whether it is in a valid range and returned. If no column fitting to <cite>key</cite> exists, this function will throw a <cite>KeyError</cite>. If <cite>remove_col</cite> is <cite>True</cite> and a column fitting to <cite>key</cite> exists, then this column will be deleted from <cite>columns</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>columns</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]</span>) – the columns set<li><p><strong>key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the key<li><p><strong>remove_col</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we remove the column?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the column</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters is not of the prescribed type<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the column or key are invalid<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#KeyError><strong>KeyError</strong></a> – if no column of the name <cite>key</cite> eixists</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=go>5</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>cols</span> <span class=o>=</span> <span class=p>{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>7</span><span class=p>}</span>
<span class=gp>>>> </span><span class=n>csv_column</span><span class=p>(</span><span class=n>cols</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=n>cols</span>
<span class=go>{'a': 5, 'b': 7}</span>
<span class=gp>>>> </span><span class=n>csv_column</span><span class=p>(</span><span class=n>cols</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=n>cols</span>
<span class=go>{'b': 7}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>ke</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ke</span><span class=p>)</span>
<span class=go>'b'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"3"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>remove_col should be an instance of bool but is str, namely '3'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>descriptor '__getitem__' for 'dict' objects doesn'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>a=-1 is invalid, must be in 0..1000000.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>},</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid key ''.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_column_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_column_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>columns</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>key</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>remove_col</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_column_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_column_or_none>¶</a><dd><p>Get an optional CSV column index.</p> <p>This function will extract the index of a column from a column description map. The index will be checked whether it is in a valid range and returned. If no column fitting to <cite>key</cite> exists, this function returns <cite>None</cite>. If <cite>remove_col</cite> is <cite>True</cite> and a column fitting to <cite>key</cite> exists, then this column will be deleted from <cite>columns</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>columns</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>] | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the columns<li><p><strong>key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the key<li><p><strong>remove_col</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we remove the column?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the column, or <cite>None</cite> if none was found</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters is not of the prescribed type<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the column or key are invalid</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_column_or_none</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=go>5</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>cols</span> <span class=o>=</span> <span class=p>{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>7</span><span class=p>}</span>
<span class=gp>>>> </span><span class=n>csv_column_or_none</span><span class=p>(</span><span class=n>cols</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=n>cols</span>
<span class=go>{'a': 5, 'b': 7}</span>
<span class=gp>>>> </span><span class=n>csv_column_or_none</span><span class=p>(</span><span class=n>cols</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=n>cols</span>
<span class=go>{'b': 7}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column_or_none</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span> <span class=s2>"3"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>remove_col should be an instance of bool but is str, namely '3'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_column_or_none</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_column_or_none</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_column_or_none</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_column_or_none</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>""</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_column</span><span class=p>({</span><span class=s2>"a"</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>a=-1 is invalid, must be in 0..1000000.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_read><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_read</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>rows</span></span></em>, <em class=sig-param><span class=n><span class=pre>setup</span></span></em>, <em class=sig-param><span class=n><span class=pre>parse_row</span></span></em>, <em class=sig-param><span class=n><span class=pre>separator</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>';'</span></span></em>, <em class=sig-param><span class=n><span class=pre>comment_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'#'</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_read><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_read>¶</a><dd><p>Read (parse) a sequence of strings as CSV data.</p> <p>All lines str <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.split><code class="xref py py-meth docutils literal notranslate"><span class=pre>split()</span></code></a> based on the <cite>separator</cite> string and each of the resulting strings is stripped via <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.strip><code class="xref py py-meth docutils literal notranslate"><span class=pre>strip()</span></code></a>. The first non-empty line of the data is interpreted as header line.</p> <p>This header is passed to the <cite>setup</cite> function in form of a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a> that maps column titles to column indices. This function then returns an object of setup data. To each of the rows of CSV data, the function <cite>parse_row</cite> is applied. This function receives the object returned by <cite>setup</cite> as first argument and the row as list of strings as second argument. Each line is therefore <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.split><code class="xref py py-meth docutils literal notranslate"><span class=pre>split()</span></code></a> (by the CSV separator) and its component <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.strip><code class="xref py py-meth docutils literal notranslate"><span class=pre>strip()</span></code></a>-ped. It is permitted that a line in the CSV file contains fewer columns than declared in the header. In this case, the missing columns are set to empty strings. Lines that are entirely empty are skipped.</p> <p>If <cite>comment_start</cite> is not none, then all text in a line starting at the first occurence of <cite>comment_start</cite> is discarted before the line is processed.</p> <p>If you want to read more complex CSV structures, then using the class <a class="reference internal"href=#pycommons.io.csv.CsvReader title=pycommons.io.csv.CsvReader><code class="xref py py-class docutils literal notranslate"><span class=pre>CsvReader</span></code></a> and its class method <a class="reference internal"href=#pycommons.io.csv.CsvReader.read title=pycommons.io.csv.CsvReader.read><code class="xref py py-meth docutils literal notranslate"><span class=pre>CsvReader.read()</span></code></a> are a more convenient approach. They are wrappers around <a class="reference internal"href=#pycommons.io.csv.csv_read title=pycommons.io.csv.csv_read><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_read()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>rows</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the rows of text<li><p><strong>setup</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)]</span>) – a function which creates an object holding the necessary information for row parsing<li><p><strong>parse_row</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]</span>) – the unction parsing the rows<li><p><strong>separator</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>';'</span></code>) – the string used to separate columns<li><p><strong>comment_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'#'</span></code>) – the string starting comments</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>an <code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code> with the parsed data rows</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters has the wrong type<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the separator or comment start character are incompatible or if the data has some internal error</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>_setup</span><span class=p>(</span><span class=n>colidx</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-></span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=n>colidx</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>_parse_row</span><span class=p>(</span><span class=n>colidx</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=nb>dict</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>return</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=n>row</span><span class=p>[</span><span class=n>y</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>colidx</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;c;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>" 5 ;6 "</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>""</span><span class=p>,</span> <span class=s2>"10"</span><span class=p>,</span> <span class=s2>"# 11;12"</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_read</span><span class=p>((</span><span class=n>t</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>";"</span><span class=p>,</span> <span class=s2>","</span><span class=p>)</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>text</span><span class=p>),</span> <span class=n>_setup</span><span class=p>,</span>
<span class=gp>... </span>                  <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>","</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_read</span><span class=p>((</span><span class=n>t</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>";"</span><span class=p>,</span> <span class=s2>"</span><span class=se>\t</span><span class=s2>"</span><span class=p>)</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>text</span><span class=p>),</span> <span class=n>_setup</span><span class=p>,</span>
<span class=gp>... </span>                  <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>"</span><span class=se>\t</span><span class=s2>"</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=n>comment_start</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '# test', 'b': '', 'c': '', 'd': ''}</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
<span class=go>{'a': '# 11', 'b': '12', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;c;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>" 5 ;6 "</span><span class=p>,</span> <span class=s2>"5;6"</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=s2>""</span><span class=p>,</span> <span class=s2>"10"</span><span class=p>,</span> <span class=s2>"# 11;12"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>{'a': '1', 'b': '2', 'c': '3', 'd': '4'}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '5', 'b': '6', 'c': '', 'd': ''}</span>
<span class=go>{'a': '', 'b': '8', 'c': '', 'd': '9'}</span>
<span class=go>{'a': '10', 'b': '', 'c': '', 'd': ''}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>rows should be an instance of typing.Iterable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>rows should be an instance of typing.Iterable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>setup should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>setup should be a callable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>parse_row should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>parse_row should be a callable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid separator ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>"-"</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>"-"</span><span class=p>,</span> <span class=s2>""</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>"-"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: ' '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>";"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: ';'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text2</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;a;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>" 5 ;6 "</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text2</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid column headers: ['a', 'b', 'a', 'd'].</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>text2</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a;b;c;d"</span><span class=p>,</span> <span class=s2>"# test"</span><span class=p>,</span> <span class=s2>" 1; 2;3;4"</span><span class=p>,</span> <span class=s2>"1;2;3;4;5;6;7"</span><span class=p>,</span> <span class=s2>";8;;9"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_read</span><span class=p>(</span><span class=n>text2</span><span class=p>,</span> <span class=n>_setup</span><span class=p>,</span> <span class=n>_parse_row</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid row '1;2;3;4;5;6;7' contains 7 columns, but should have at most 4.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_scope><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_scope</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>scope</span></span></em>, <em class=sig-param><span class=n><span class=pre>key</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_scope><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_scope>¶</a><dd><p>Combine a scope and a key.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the scope, or <cite>None</cite><li><p><strong>key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the key, or <cite>None</cite></ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the scope joined with the key</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=go>'a.b'</span>
<span class=gp>>>> </span><span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=go>'a'</span>
<span class=gp>>>> </span><span class=n>csv_scope</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=go>'b'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a "</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>Invalid csv scope 'a '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid csv scope ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>" b"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>Invalid csv key ' b'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>Invalid csv key ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_scope</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>Csv scope and key cannot both be None.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_select_scope><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_select_scope</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>conv</span></span></em>, <em class=sig-param><span class=n><span class=pre>columns</span></span></em>, <em class=sig-param><span class=n><span class=pre>scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>additional</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>()</span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_orig_key</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_final_key</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_col</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>include_scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>remove_cols</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_select_scope><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_select_scope>¶</a><dd><p>Get all the columns of a given scope and pass them to the function <cite>conv</cite>.</p> <p>This function is intended for selecting some keys from a column set and pass them as parameters to a constructor of a CSV reader. It can do this selection based on a <cite>scope</cite> prefix which is then removed from the column names before passing them into the constructor. If no column matches, this function throws a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a>. All columns that are passed on to <cite>conv</cite> are deleted from <cite>columns</cite> if <cite>remove_cols == True</cite>, which is the default.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>conv</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)]</span>) – the function to which the selected columns should be passed, and that creates the return value<li><p><strong>columns</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]</span>) – the existing columns<li><p><strong>scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the scope, or <cite>None</cite> or the empty string to select all columns<li><p><strong>skip_orig_key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fd8a0></span></code>) – a function that returns <cite>True</cite> for any original, unchanged key in <cite>columns</cite> that should be ignored and that returns <cite>False</cite> if the key can be processed normally (i.e., if we can check if it starts with the given scope and move on)<li><p><strong>skip_final_key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fdf80></span></code>) – a function that returns <cite>True</cite> for any key in <cite>columns</cite> that would fall into the right scope but that should still be ignored. This function receives the key without the scope prefix.<li><p><strong>skip_col</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fd800></span></code>) – any column that should be ignored<li><p><strong>additional</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>()</span></code>) – the additional columns to add <em>if</em> some keys/columns remain after all the transformation and selection<li><p><strong>include_scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – if scope appears as a lone column, should we include it?<li><p><strong>remove_cols</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we remove all selected columns?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>The result of the function <cite>conv</cite> applied to all matching columns (and those in <cite>additional</cite> are appended to them)</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if no columns could be selected<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the elements passed in is of the wrong type</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>""</span><span class=p>)</span>
<span class=go>{'a.x': 1, 'a.y': 2, 'a': 3, 'b': 4, 'b.t': 5}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span><span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>},</span> <span class=s2>"v"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Did not find sufficient data of scope 'v' in {'a.x': 1, 'a.y': 2}.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{},</span> <span class=s2>"v"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Did not find sufficient data of scope 'v' in {}.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_select_scope_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_select_scope_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>conv</span></span></em>, <em class=sig-param><span class=n><span class=pre>columns</span></span></em>, <em class=sig-param><span class=n><span class=pre>scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>additional</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>()</span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_orig_key</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_final_key</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>skip_col</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>include_scope</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>remove_cols</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_select_scope_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_select_scope_or_none>¶</a><dd><p>Get all the columns of a given scope and pass them to the function <cite>conv</cite>.</p> <p>This function is intended for selecting some keys from a column set and pass them as parameters to a constructor of a CSV reader. It can do this selection based on a <cite>scope</cite> prefix which is then removed from the column names before passing them into the constructor. If no column matches, this function returns <cite>None</cite>. All columns that are passed on to <cite>conv</cite> are deleted from <cite>columns</cite> if <cite>remove_cols == True</cite>, which is the default.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>conv</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)]</span>) – the function to which the selected columns should be passed, if any, and that - in this case, returns the return value of this function<li><p><strong>columns</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#dict><code class="xref py py-class docutils literal notranslate"><span class=pre>dict</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>] | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the existing columns<li><p><strong>scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – the scope, or <cite>None</cite> or the empty string to select all columns<li><p><strong>skip_orig_key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fd6c0></span></code>) – a function that returns <cite>True</cite> for any original, unchanged key in <cite>columns</cite> that should be ignored and that returns <cite>False</cite> if the key can be processed normally (i.e., if we can check if it starts with the given scope and move on)<li><p><strong>skip_final_key</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fd620></span></code>) – a function that returns <cite>True</cite> for any key in <cite>columns</cite> that would fall into the right scope but that should still be ignored. This function receives the key without the scope prefix.<li><p><strong>skip_col</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fccc0></span></code>) – any column that should be ignored<li><p><strong>additional</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>()</span></code>) – the additional columns to add <em>if</em> some keys/columns remain after all the transformation and selection<li><p><strong>include_scope</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – if scope appears as a lone column, should we include it?<li><p><strong>remove_cols</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should we remove all selected columns?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p><cite>None</cite> if no keys fall into the provided scope does not have any keys matching it in <cite>columns</cite>. The result of <cite>conv</cite> otherwise, i.e., if there are matching columns, these are selected (and those in <cite>additional</cite> are appended to them) and these are then passed to <cite>conv</cite> and the result of <cite>conv</cite> is returned</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=go>{'x': 1, 'y': 2, 'a': 3}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>exa1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>}</span>
<span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=n>exa1</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=n>remove_cols</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=go>{'x': 1, 'y': 2, 'a': 3}</span>
<span class=gp>>>> </span><span class=n>exa1</span>
<span class=go>{'a.x': 1, 'a.y': 2, 'a': 3, 'b': 4, 'b.t': 5}</span>
<span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=n>exa1</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>,</span> <span class=n>remove_cols</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=go>{'x': 1, 'y': 2, 'a': 3}</span>
<span class=gp>>>> </span><span class=n>exa1</span>
<span class=go>{'b': 4, 'b.t': 5}</span>
<span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=n>exa1</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=n>remove_cols</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=go>{'b': 4, 't': 5}</span>
<span class=gp>>>> </span><span class=n>exa1</span>
<span class=go>{}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>""</span><span class=p>)</span>
<span class=go>{'a.x': 1, 'a.y': 2, 'a': 3, 'b': 4, 'b.t': 5}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=kc>None</span><span class=p>)</span>
<span class=go>{'a.x': 1, 'a.y': 2, 'a': 3, 'b': 4, 'b.t': 5}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>include_scope</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=go>{'x': 1, 'y': 2}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>)</span>
<span class=go>{'b': 4, 't': 5}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'z'</span><span class=p>,</span> <span class=mi>23</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)))</span>
<span class=go>{'b': 4, 't': 5, 'z': 23, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'t'</span><span class=p>,</span> <span class=mi>23</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)))</span>
<span class=go>{'b': 4, 't': 5, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'x'</span><span class=p>,</span> <span class=mi>44</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)))</span>
<span class=go>{'x': 1, 'y': 2, 'a': 3, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'z'</span><span class=p>,</span> <span class=mi>23</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)),</span>
<span class=gp>... </span>    <span class=n>skip_col</span><span class=o>=</span><span class=k>lambda</span> <span class=n>c</span><span class=p>:</span> <span class=n>c</span> <span class=o>==</span> <span class=mi>23</span><span class=p>)</span>
<span class=go>{'b': 4, 't': 5, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'z'</span><span class=p>,</span> <span class=mi>23</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)),</span>
<span class=gp>... </span>    <span class=n>skip_orig_key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>ok</span><span class=p>:</span> <span class=n>ok</span> <span class=o>==</span> <span class=s2>"b.t"</span><span class=p>)</span>
<span class=go>{'b': 4, 'z': 23, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>    <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"b"</span><span class=p>,</span>
<span class=gp>... </span>    <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s1>'z'</span><span class=p>,</span> <span class=mi>23</span><span class=p>),</span> <span class=p>(</span><span class=s1>'v'</span><span class=p>,</span> <span class=mi>45</span><span class=p>)),</span>
<span class=gp>... </span>    <span class=n>skip_final_key</span><span class=o>=</span><span class=k>lambda</span> <span class=n>fk</span><span class=p>:</span> <span class=n>fk</span> <span class=o>==</span> <span class=s2>"z"</span><span class=p>)</span>
<span class=go>{'b': 4, 't': 5, 'v': 45}</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{},</span> <span class=s2>"a"</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{},</span> <span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span><span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>45</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>skip_col</span><span class=o>=</span><span class=k>lambda</span> <span class=n>c</span><span class=p>:</span> <span class=n>c</span> <span class=o>==</span> <span class=mi>45</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>conv should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>remove_cols</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>remove_cols should be an instance of bool but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>conv should be a callable but is str, namely 'x'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=s2>"x"</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'dict' object but received a 'str'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=nb>int</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'type'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=o>-</span><span class=mi>7</span><span class=p>])</span>
<span class=go>additional should be an instance of typing.Iterable but is int, na</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>cannot unpack non-iterable NoneType object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s2>"yx"</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>),</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>yx should be an instance of int but is str, namely 'a'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s2>"yx"</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>),</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>yx=-2 is invalid, must be in 0..1000000.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"a.b"</span><span class=p>:</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>a.b=-4 is invalid, must be in 0..1000000.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>skip_col</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>skip_col should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>skip_orig_key</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>skip_orig_key should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>skip_final_key</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>skip_final_key should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>include_scope</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>include_scope should be an instance of bool but is int, namely 3.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=mi>4</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=mi>11</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'dict' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>csv_select_scope_or_none</span><span class=p>(</span><span class=nb>print</span><span class=p>,</span> <span class=p>{</span>
<span class=gp>... </span>        <span class=s2>"a.x"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"a.y"</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"b.t"</span><span class=p>:</span> <span class=mi>5</span><span class=p>},</span> <span class=s2>"a"</span><span class=p>,</span>
<span class=gp>... </span>        <span class=n>additional</span><span class=o>=</span><span class=p>((</span><span class=s2>""</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid additional column ''.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_str_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_str_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em>, <em class=sig-param><span class=n><span class=pre>index</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_str_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_str_or_none>¶</a><dd><p>Get a string or <cite>None</cite> from a data row.</p> <p>This function is a shortcut for when data elements or columns are optional. If <cite>index</cite> is <cite>None</cite> or outside of the valid index range of the list <cite>data</cite>, then <cite>None</cite> is returned. If <cite>data</cite> itself is <cite>None</cite> or the element at index <cite>index</cite> is the empty string, then <cite>None</cite> is returned. Only if <cite>data</cite> and <cite>index</cite> are both not <cite>None</cite> and <cite>index</cite> is a valid index into <cite>data</cite> and the element at index <cite>index</cite> in <cite>data</cite> is not the empty string, then this element is returned. In other words, this is a very tolerant function to handle optional data and to return <cite>None</cite> if the data is not present. The function <a class="reference internal"href=#pycommons.io.csv.csv_val_or_none title=pycommons.io.csv.csv_val_or_none><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_val_or_none()</span></code></a> further extends this function by converting the data to another data type if it is present.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>] | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the data<li><p><strong>index</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the index, if any</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the string or nothing</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ddd</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=go>a</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
<span class=go>b</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>2</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
<span class=go>d</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=kc>None</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_str_or_none</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_val_or_none><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_val_or_none</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em>, <em class=sig-param><span class=n><span class=pre>index</span></span></em>, <em class=sig-param><span class=n><span class=pre>conv</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_val_or_none><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_val_or_none>¶</a><dd><p>Get a value or <cite>None</cite>.</p> <p>See <a class="reference internal"href=#pycommons.io.csv.csv_str_or_none title=pycommons.io.csv.csv_str_or_none><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_str_or_none()</span></code></a> allows us to extract an optional data element from a CSV row and get <cite>None</cite> if the element is not present or if the <cite>index</cite> is <cite>None</cite> or outside of the valid range. In case the data is present and not the empty string, then the function <cite>conv</cite> is invoked to convert it to another value. Otherwise, <cite>None</cite> is returned.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#list><code class="xref py py-class docutils literal notranslate"><span class=pre>list</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>] | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the data<li><p><strong>index</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>) – the index<li><p><strong>conv</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)]</span>) – the conversation function</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>U</span></code>)]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the object</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ddd</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"11"</span><span class=p>,</span> <span class=s2>"22"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=s2>"33"</span><span class=p>]</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_val_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>11</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_val_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>22</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_val_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>None</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_val_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>33</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>csv_val_or_none</span><span class=p>(</span><span class=n>ddd</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>None</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.csv_write><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>csv_write</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>data</span></span></em>, <em class=sig-param><span class=n><span class=pre>column_titles</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>get_row</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>__default_row></span></span></em>, <em class=sig-param><span class=n><span class=pre>setup</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>&LTlambda>></span></span></em>, <em class=sig-param><span class=n><span class=pre>separator</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>';'</span></span></em>, <em class=sig-param><span class=n><span class=pre>comment_start</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>'#'</span></span></em>, <em class=sig-param><span class=n><span class=pre>header_comments</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>footer_comments</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>footer_bottom_comments</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>&LTfunction</span> <span class=pre>pycommons_footer_bottom_comments></span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#csv_write><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.csv_write>¶</a><dd><p>Produce a sequence of CSV formatted text.</p> <p>The data is provided in form of a <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code>. In a first step, the function <cite>setup</cite> is invoked and applied to the <cite>data</cite> <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code>. It can return an object that sort of stores the structure of the data, e.g., which columns should be generated and how they should be formatted.</p> <p><cite>column_titles</cite> can either be an <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code> with the column titles or a <code class="xref py py-class docutils literal notranslate"><span class=pre>Callable</span></code>. In the latter case, the object generated by <cite>setup</cite> is passed to <cite>column_titles</cite>, which should generate the column titles. These titles are <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.strip><code class="xref py py-meth docutils literal notranslate"><span class=pre>strip()</span></code></a>-ped and concatenated to use the column <cite>separator</cite> string and the resulting header string is passed to <cite>consumer</cite>.</p> <p>Then, for each element <cite>e</cite> in the <cite>data</cite> <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code>, the function <cite>get_row</cite> is invoked. This function receives the setup information object (previously returned by <cite>setup</cite>). It should generate one string per column. These strings are then each <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str.strip><code class="xref py py-meth docutils literal notranslate"><span class=pre>strip()</span></code></a>-ped and concatenated using the column <cite>separator</cite> string. All trailing <cite>separator</cite> are removed, but if all strings are empty, at least a single <cite>separator</cite> is retained. The resulting string (per row) is again passed to <cite>consumer</cite>.</p> <p>Additionally, <cite>header_comments</cite> and <cite>footer_comments</cite> can be <cite>None</cite>, to not include any such comments, an <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code> of comments, or functions to generate row comments as <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>. These are then prepended or appends as comment rows before or after all of the above, respectively. In that case, <cite>comment_start</cite> is prepended to each line. If <cite>comment_start is None</cite>, then these comments are not printed. <cite>footer_bottom_comments</cite> provides means to print additional comments after the footer comments <cite>comment_start is not None</cite>.</p> <p>If you create nested CSV formats, i.e., such where the <cite>setup</cite> function invokes the <cite>setup</cite> function of other data, and the data that you receive could come from a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a> (or some other one-shot <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterator><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterator</span></code></a>), then you need to make sure to solidify the iterable data with <a class="reference internal"href=pycommons.ds.html#pycommons.ds.sequences.reiterable title=pycommons.ds.sequences.reiterable><code class="xref py py-func docutils literal notranslate"><span class=pre>reiterable()</span></code></a>. The structure of our CSV output is that <cite>setup</cite> is first invoked and then <cite>get_row</cite>. If <cite>setup</cite> already consumes the data away, then <cite>get_row</cite> may print nothing. Alternatively, if you apply multiple <cite>setup</cite> routines to the same data that extract different information, then the first <cite>setup</cite> run may consume all the data, leaving nothing for the second one.</p> <p>If you want to write more complex CSV structures, then implementing the class <a class="reference internal"href=#pycommons.io.csv.CsvWriter title=pycommons.io.csv.CsvWriter><code class="xref py py-class docutils literal notranslate"><span class=pre>CsvWriter</span></code></a> and using its class method <a class="reference internal"href=#pycommons.io.csv.CsvWriter.write title=pycommons.io.csv.CsvWriter.write><code class="xref py py-meth docutils literal notranslate"><span class=pre>CsvWriter.write()</span></code></a> may be a more convenient solution. They are wrappers around <a class="reference internal"href=#pycommons.io.csv.csv_write title=pycommons.io.csv.csv_write><code class="xref py py-func docutils literal notranslate"><span class=pre>csv_write()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>data</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]</span>) – the iterable of data to be written<li><p><strong>column_titles</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fc540></span></code>) – get the column titles<li><p><strong>get_row</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>__default_row</span> <span class=pre>at</span> <span class=pre>0x7f75560fc5e0></span></code>) – transform a row of data into a list of strings<li><p><strong>setup</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>&LTlambda></span> <span class=pre>at</span> <span class=pre>0x7f75560fc4a0></span></code>) – the setup function that computes how the data should be represented<li><p><strong>separator</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>';'</span></code>) – the string used to separate columns<li><p><strong>comment_start</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>'#'</span></code>) – the string starting comments<li><p><strong>header_comments</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – get the comments to be placed above the CSV header row – only invoked if <cite>comment_start is not None</cite>.<li><p><strong>footer_comments</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – get the comments to be placed after the last row – only invoked if <cite>comment_start is not None</cite>.<li><p><strong>footer_bottom_comments</strong> (<span class=sphinx_autodoc_typehints-type><code class="xref py py-data docutils literal notranslate"><span class=pre>Union</span></code>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>S</span></code>)], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]]], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTfunction</span> <span class=pre>pycommons_footer_bottom_comments</span> <span class=pre>at</span> <span class=pre>0x7f75560fc720></span></code>) – get the footer bottom comments, i.e., comments to be printed after all other footers. These commonts may include something like the version information of the software used. This function is only invoked if <cite>comment_start is not None</cite>.</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>a <code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code> with the rows of CSV text</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters has the wrong type<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the separator or comment start character are incompatible or if the data has some internal error</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>dd</span> <span class=o>=</span> <span class=p>[{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>:</span> <span class=mi>2</span><span class=p>},</span> <span class=p>{</span><span class=s2>"b"</span><span class=p>:</span> <span class=mi>6</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>:</span> <span class=mi>8</span><span class=p>},</span>
<span class=gp>... </span>      <span class=p>{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>3</span><span class=p>},</span> <span class=p>{}]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__setup</span><span class=p>(</span><span class=n>datarows</span><span class=p>)</span> <span class=o>-></span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=nb>sorted</span><span class=p>({</span><span class=n>dkey</span> <span class=k>for</span> <span class=n>datarow</span> <span class=ow>in</span> <span class=n>datarows</span> <span class=k>for</span> <span class=n>dkey</span> <span class=ow>in</span> <span class=n>datarow</span><span class=p>})</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__get_row</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=p>(</span><span class=n>row</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>keyd</span><span class=p>))</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__get_header_cmt</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>[</span><span class=s2>"This is a header comment."</span><span class=p>,</span> <span class=s2>" We have two of it. "</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__get_footer_cmt</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>[</span><span class=s2>" This is a footer comment."</span><span class=p>]</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__default_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=p>()):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go># This is a header comment.</span>
<span class=go># We have two of it.</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
<span class=go># This is a footer comment.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go># This is a header comment.</span>
<span class=go># We have two of it.</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
<span class=go># This is a footer comment.</span>
<span class=go>#</span>
<span class=go># This CSV output has been created using the versatile CSV API of pyco</span>
<span class=go># You can find pycommons at https://thomasweise.github.io/pycommons.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>","</span><span class=p>,</span> <span class=s2>"@@"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=p>()):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>@@ This is a header comment.</span>
<span class=go>@@ We have two of it.</span>
<span class=go>a,b,c,d</span>
<span class=go>1,,2</span>
<span class=go>,6,8</span>
<span class=go>4,3,,12</span>
<span class=go>,</span>
<span class=go>@@ This is a footer comment.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>source should be an instance of any in {typing.Iterable, typ</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>60</span><span class=p>])</span>
<span class=go>source should be an instance of any in {typing.Iterable, typ</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>column_titles should be an instance of typing.Iterable or a callable b</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>column_titles should be an instance of typing.Iterable or a callable b</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>get_row should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>get_row should be a callable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>setup should be a callable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>setup should be a callable but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=kc>None</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=mi>1</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>header_comments should be an instance of typing.Iterable or a callable</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>""</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>" "</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: ' '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"# "</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=n>__get_footer_cmt</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid comment start: '# '.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=n>__get_footer_cmt</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__get_header_cmt</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>footer_comments should be an instance of typing.Iterable or a callable</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__err_cmt_1</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"This is</span><span class=se>\n</span><span class=s2> a comment with error."</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__err_cmt_1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>58</span><span class=p>])</span>
<span class=go>A header comment must not contain a newline character, but</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=n>__err_cmt_1</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>58</span><span class=p>])</span>
<span class=go>A footer comment must not contain a newline character, but</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__empty_cmt</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>" "</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>__empty_cmt</span><span class=p>,</span> <span class=n>__empty_cmt</span><span class=p>,</span> <span class=n>__empty_cmt</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=n>__empty_cmt</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=p>()):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=go>a;b;c;d</span>
<span class=go>1;;2</span>
<span class=go>;6;8</span>
<span class=go>4;3;;12</span>
<span class=go>;</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_1</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>()</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_1</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Cannot have zero columns.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>dde</span> <span class=o>=</span> <span class=n>dd</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>dde</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dde</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=p>[</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>],</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=n>__empty_cmt</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=p>()))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>data element should be an instance of object but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_2</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>" "</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_2</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>Invalid column title ' ', must neither be empty no</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_3</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla</span><span class=se>\n</span><span class=s2>blugg"</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_3</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>Invalid column title 'bla\nblugg', must neither be</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_4</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_4</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_5</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_5</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_6</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_6</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Cannot have duplicated columns: ['a', 'b', 'c', 'a'].</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_7</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>,</span> <span class=s2>"c;4"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_7</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>49</span><span class=p>])</span>
<span class=go>Invalid column title 'c;4', must neither be empty</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_8</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=s2>"b#x"</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_8</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>49</span><span class=p>])</span>
<span class=go>Invalid column title 'b#x', must neither be empty</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_1</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla"</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"blubb"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__error_row_1</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>,</span> <span class=n>__</span><span class=p>:</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'NoneType' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_2</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla"</span><span class=p>,</span> <span class=mf>2.3</span><span class=p>,</span> <span class=s2>"blubb"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__error_row_2</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'float' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_3</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla"</span><span class=p>,</span> <span class=s2>"x</span><span class=se>\n</span><span class=s2>y"</span><span class=p>,</span> <span class=s2>"blubb"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__error_row_3</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>Invalid column value 'x\ny', cannot contain any of</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_4</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla"</span><span class=p>,</span> <span class=s2>"x#"</span><span class=p>,</span> <span class=s2>"blubb"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__error_row_4</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=kc>None</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>50</span><span class=p>])</span>
<span class=go>Invalid column value 'x#', cannot contain any of [</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_5</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"bla"</span><span class=p>,</span> <span class=s2>"x;#"</span><span class=p>,</span> <span class=s2>"blubb"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__error_row_5</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>49</span><span class=p>])</span>
<span class=go>Invalid column value 'x;#', cannot contain any of</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_column_titles_9</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>])</span> <span class=o>-></span> <span class=n>Iterable</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"a"</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_6</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_9</span><span class=p>,</span> <span class=n>__error_row_6</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Cannot have empty row in a single-column format, but got [''].</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_7</span><span class=p>(</span><span class=n>keyd</span><span class=p>:</span> <span class=nb>list</span><span class=p>[</span><span class=nb>str</span><span class=p>],</span> <span class=n>row</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>int</span><span class=p>]):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=s2>"y"</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=n>__error_column_titles_9</span><span class=p>,</span> <span class=n>__error_row_7</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__setup</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Too many columns in ['x', 'y'], should be 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>""</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=n>__err_cmt_1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid separator ''.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>"x"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_comments</span><span class=o>=</span><span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>footer_comments should be an instance of typing.Iterable or a callable</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>dd</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=n>__get_row</span><span class=p>,</span> <span class=n>__setup</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=s2>"x"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>,</span> <span class=n>footer_bottom_comments</span><span class=o>=</span><span class=mi>1</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>footer_bottom_comments should be an instance of typing.Iterable or a c</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>ddx</span> <span class=o>=</span> <span class=p>[{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>"c"</span><span class=p>:</span> <span class=mi>2</span><span class=p>},</span> <span class=kc>None</span><span class=p>,</span>
<span class=gp>... </span>       <span class=p>{</span><span class=s2>"a"</span><span class=p>:</span> <span class=mi>4</span><span class=p>,</span> <span class=s2>"d"</span><span class=p>:</span> <span class=mi>12</span><span class=p>,</span> <span class=s2>"b"</span><span class=p>:</span> <span class=mi>3</span><span class=p>},</span> <span class=p>{}]</span>
<span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_9</span><span class=p>(</span><span class=n>_</span><span class=p>,</span> <span class=n>__</span><span class=p>):</span>
<span class=gp>... </span>    <span class=k>return</span> <span class=p>(</span><span class=s2>"1"</span><span class=p>,</span> <span class=s2>"2"</span><span class=p>,</span> <span class=s2>"3"</span><span class=p>,</span> <span class=s2>"4"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>def</span><span class=w> </span><span class=nf>__error_row_10</span><span class=p>(</span><span class=n>_</span><span class=p>):</span>
<span class=gp>... </span>    <span class=n>__error_row_9</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>list</span><span class=p>(</span><span class=n>csv_write</span><span class=p>(</span><span class=n>ddx</span><span class=p>,</span> <span class=n>__error_row_10</span><span class=p>,</span>
<span class=gp>... </span>                   <span class=n>__error_row_9</span><span class=p>,</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=p>,</span> <span class=s2>";"</span><span class=p>,</span> <span class=s2>"#"</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>'NoneType' object is not iterable</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.csv.pycommons_footer_bottom_comments><span class="sig-prename descclassname"><span class=pre>pycommons.io.csv.</span></span><span class="sig-name descname"><span class=pre>pycommons_footer_bottom_comments</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>_</span></span></em>, <em class=sig-param><span class=n><span class=pre>additional</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/csv.html#pycommons_footer_bottom_comments><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.csv.pycommons_footer_bottom_comments>¶</a><dd><p>Print standard footer bottom comments for <cite>pycommons</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>_</strong> – ignored<li><p><strong>additional</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – an optional line of additional comments</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>an <code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code> of standard pycommons comments</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>pycommons_footer_bottom_comments</span><span class=p>(</span><span class=s2>""</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>This CSV output has been created using the versatile CSV API of pycomm</span>
<span class=go>You can find pycommons at https://thomasweise.github.io/pycommons.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>for</span> <span class=n>p</span> <span class=ow>in</span> <span class=n>pycommons_footer_bottom_comments</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=s2>"Statistics are cool."</span><span class=p>):</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>This CSV output has been created using the versatile CSV API of pycomm</span>
<span class=go>Statistics are cool.</span>
<span class=go>You can find pycommons at https://thomasweise.github.io/pycommons.</span>
</pre></div></div></dl></section><section id=module-pycommons.io.parser><span id=pycommons-io-parser-module></span><h2>pycommons.io.parser module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.parser>¶</a></h2><p>A tool for recursively parsing data from directories.<p>This module provides a unified API for parsing data from files in directories. The goal is to offer a way to return a generator that allows us to iterate over the data loaded. While we iterate over this data, the generator internally iterates over the files.<p>This means that the control of how the data is loaded stays with the user, while the programmer can implement the necessary methods to load and process data in a natural way.<dl class="py class"><dt class="sig sig-object py"id=pycommons.io.parser.Parser><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.parser.</span></span><span class="sig-name descname"><span class=pre>Parser</span></span><a class="reference internal"href=_modules/pycommons/io/parser.html#Parser><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.parser.Parser>¶</a><dd><p>Bases: <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generic><code class="xref py py-class docutils literal notranslate"><span class=pre>Generic</span></code></a></p> <p>The parser class.</p> <p>This class allows you to implement convenient parsing routines that can hierarchically process nested directories of files and return a stream, i.e., a <code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code> of results. In other words, it flattens the hierarchical processing of directories into a linear sequence of data. This allows the user of the API stay in control of when the data is loaded while the programmer of the parser API can work in a convenient way with high-level abstractions. Another advantage of this parsing API is that its results can be processed like a stream and be piped into some filters, processors, or even output destinations while it is loaded from the files. For example, we can extract certain elements of data from huge collections of files and while they are loaded, they could already be processed and stored to a stream of CSV data.</p> <p>The method <a class="reference internal"href=#pycommons.io.parser.Parser.parse title=pycommons.io.parser.Parser.parse><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse()</span></code></a> can be applied to any path to a file or directory and will hierarchically process the path and yield the parsing results one by one. This is the normal entry point function for this parsing API. The method <a class="reference internal"href=#pycommons.io.parser.Parser.parse_file title=pycommons.io.parser.Parser.parse_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse_file()</span></code></a> is a convenient wrapper that processes a single file in <em>exactly the same way</em>. The method <a class="reference internal"href=#pycommons.io.parser.Parser.parse_directory title=pycommons.io.parser.Parser.parse_directory><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse_directory()</span></code></a> parses a path that identifies a directory.</p> <p>This class offers an internal API, where the internal functions are prefixed with <cite>_</cite>, that allows you to customize the hierarchical parsing process to a high degree. You can decide which directories and files to process, and you can set up and tear down datastructures on a per-file or per-directory basis. All the internal functions are invoked in a consistent way, regardless whether you parse single files or nested directories.</p> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.parser.Parser.parse><span class="sig-name descname"><span class=pre>parse</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>path</span></span></em>, <em class=sig-param><span class=n><span class=pre>log_progress</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/parser.html#Parser.parse><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.parser.Parser.parse>¶</a><dd><p>Parse the given path.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to parse<li><p><strong>log_progress</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should the progress be logged?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the parsed sequence</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.parser.Parser.parse_directory><span class="sig-name descname"><span class=pre>parse_directory</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>directory</span></span></em>, <em class=sig-param><span class=n><span class=pre>log_progress</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/parser.html#Parser.parse_directory><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.parser.Parser.parse_directory>¶</a><dd><p>Parse a directory of files.</p> <p>This function basically works exactly as <a class="reference internal"href=#pycommons.io.parser.Parser.parse title=pycommons.io.parser.Parser.parse><code class="xref py py-meth docutils literal notranslate"><span class=pre>parse()</span></code></a>, but it enforces that <cite>directory</cite> is a directory and raises a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a> otherwise.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>directory</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the directory to parse<li><p><strong>log_progress</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – should the progress be logged?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Generator><code class="xref py py-class docutils literal notranslate"><span class=pre>Generator</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>), <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>, <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the generator with the parsing results</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.parser.Parser.parse_file><span class="sig-name descname"><span class=pre>parse_file</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>file</span></span></em>, <em class=sig-param><span class=n><span class=pre>log_progress</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>False</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/parser.html#Parser.parse_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.parser.Parser.parse_file>¶</a><dd><p>Parse a single file.</p> <p>This method guarantees to not return <cite>None</cite>. If the internal parsing process yields <cite>None</cite> anyway, it will raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeError</span></code></a>. It will also raise a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a> if <cite>file</cite> does not identify a file.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>file</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the file to parse<li><p><strong>log_progress</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>False</span></code>) – should the progress be logged?</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TypeVar><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeVar</span></code></a>(<code class="docutils literal notranslate"><span class=pre>T</span></code>)</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the parsing result.</p></dl></dl></dl><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.parser.T><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.parser.</span></span><span class="sig-name descname"><span class=pre>T</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.parser.T>¶</a><dd><p>the type variable for data to be read from the directories</p> <p>alias of TypeVar(‘T’)</p></dl></section><section id=module-pycommons.io.path><span id=pycommons-io-path-module></span><h2>pycommons.io.path module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.path>¶</a></h2><p>The class <cite>Path</cite> for handling paths to files and directories.<p>The instances of <a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a> identify file system paths. They are always fully canonicalized with all relative components resolved. They thus allow the clear and unique identification of files and directories. They also offer support for opening streams, creating paths to sub-folders, and so on.<p>The first goal is to encapsulate the functionality of the <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/os.path.html#module-os.path><code class="xref py py-mod docutils literal notranslate"><span class=pre>os.path</span></code></a> module into a single class. The second goal is to make sure that we do not run into any dodgy situation with paths pointing to security-sensitive locations or something due to strange <cite>.</cite> and <cite>..</cite> trickery. If you try to resolve a path inside a directory and the resulting canonical path is outside that directory, you get an error raised, for example.<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"/tmp/x/../1.txt"</span><span class=p>)</span>
<span class=go>'/tmp/1.txt'</span>
</pre></div></div><dl class="py class"><dt class="sig sig-object py"id=pycommons.io.path.Path><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>Path</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Any><span class=pre>Any</span></a></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path>¶</a><dd><p>Bases: <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></p> <p>An immutable representation of a canonical path.</p> <p>All instances of this class identify a fully-qualified path which does not contain any relative parts (<cite>“.”</cite> or <cite>“..”</cite>), is fully expanded, and, if the file system is case-insensitive, has the case normalized. A path is also an instance of <cite>str</cite>, so it can be used wherever strings are required and functions can be designed to accept <cite>str</cite> and receive <cite>Path</cite> instances instead.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Path must not be empty.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>" "</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Path must not start or end with white space, but ' ' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span> <span class=o>+</span> <span class=s1>'/..'</span><span class=p>)</span> <span class=o>==</span> <span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span> <span class=o>+</span> <span class=s2>"/."</span><span class=p>)</span> <span class=o>==</span> <span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span> <span class=o>==</span> <span class=n>realpath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"."</span><span class=p>)</span> <span class=o>==</span> <span class=n>realpath</span><span class=p>(</span><span class=n>getcwd</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>".."</span><span class=p>)</span> <span class=o>==</span> <span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=n>getcwd</span><span class=p>()))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"../."</span><span class=p>)</span> <span class=o>==</span> <span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=n>getcwd</span><span class=p>()))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"../1.txt"</span><span class=p>)</span> <span class=o>==</span> <span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=n>getcwd</span><span class=p>())),</span> <span class=s2>"1.txt"</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"./1.txt"</span><span class=p>)</span> <span class=o>==</span> <span class=n>join</span><span class=p>(</span><span class=n>realpath</span><span class=p>(</span><span class=n>getcwd</span><span class=p>()),</span> <span class=s2>"1.txt"</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>isabs</span>
<span class=gp>>>> </span><span class=n>isabs</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=s2>".."</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.basename><span class="sig-name descname"><span class=pre>basename</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.basename><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.basename>¶</a><dd><p>Get the name of the file or directory identified by this path.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the name of the file or directory</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>file_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>basename</span><span class=p>()</span>
<span class=go>'path.py'</span>
<span class=gp>>>> </span><span class=n>file_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=n>basename</span><span class=p>()</span>
<span class=go>'pycommons'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=s2>"/"</span><span class=p>)</span><span class=o>.</span><span class=n>basename</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Invalid basename '' of path '/'.</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.contains><span class="sig-name descname"><span class=pre>contains</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>other</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.contains><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.contains>¶</a><dd><p>Check whether this path is a directory and contains another path.</p> <p>A file can never contain anything else. A directory contains itself as well as any sub-directories, i.e., <cite>a/b/</cite> contains <cite>a/b/</cite> and <cite>a/b/c</cite>. The function <a class="reference internal"href=#pycommons.io.path.Path.enforce_contains title=pycommons.io.path.Path.enforce_contains><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_contains()</span></code></a> throws an exception if the path does not contain <cite>other</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>other</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the other path</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p><cite>True</cite> is this path contains the other path, <cite>False</cite> of not</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"a"</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span>
<span class=gp>... </span>    <span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"b"</span><span class=p>))</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Path must not be empty.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=s2>"E:</span><span class=se>\\</span><span class=s2>"</span><span class=p>)</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=s2>"C:</span><span class=se>\\</span><span class=s2>"</span><span class=p>)</span>
<span class=go>False</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.create_file_or_truncate><span class="sig-name descname"><span class=pre>create_file_or_truncate</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.create_file_or_truncate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.create_file_or_truncate>¶</a><dd><p>Create the file identified by this path and truncate it if it exists.</p> <dl class="field-list simple"><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p>ValueError if anything goes wrong during the file creation</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osxclose</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremove</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osxclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>pth</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=s2>"test"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>pth</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>())</span>
<span class=go>test</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>create_file_or_truncate</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>pth</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>17</span><span class=p>:])</span>
<span class=go>contains no text.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osremove</span><span class=p>(</span><span class=n>pth</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>create_file_or_truncate</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>pth</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osremove</span><span class=p>(</span><span class=n>pth</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>makedirs</span> <span class=k>as</span> <span class=n>osmkdir</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>rmdir</span> <span class=k>as</span> <span class=n>osrmdir</span>
<span class=gp>>>> </span><span class=n>osmkdir</span><span class=p>(</span><span class=n>pth</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>pth</span><span class=o>.</span><span class=n>create_file_or_truncate</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>35</span><span class=p>])</span>
<span class=go>Error when truncating/creating file</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osrmdir</span><span class=p>(</span><span class=n>pth</span><span class=p>)</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.enforce_contains><span class="sig-name descname"><span class=pre>enforce_contains</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>other</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.enforce_contains><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.enforce_contains>¶</a><dd><p>Raise an exception if this is not a directory containing another path.</p> <p>The method <a class="reference internal"href=#pycommons.io.path.Path.contains title=pycommons.io.path.Path.contains><code class="xref py py-meth docutils literal notranslate"><span class=pre>contains()</span></code></a> checks whether this path is a directory and contains the other path and returns the result of this check as a <cite>bool</cite>. This function here raises an exception if that check fails.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>other</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the other path</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>other</cite> is not a sub-path of this path.</p><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>25</span><span class=p>:])</span>
<span class=go>not identify a directory.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>  <span class=c1># nothing</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"a"</span><span class=p>))</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"b"</span><span class=p>)))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>25</span><span class=p>:])</span>
<span class=go>not identify a directory.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"b"</span><span class=p>)))</span>  <span class=c1># nothing happens</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>4</span><span class=p>])</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not contain"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>Path</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.enforce_dir><span class="sig-name descname"><span class=pre>enforce_dir</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.enforce_dir><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.enforce_dir>¶</a><dd><p>Raise an error if the path does not reference an existing directory.</p> <p>This function uses <a class="reference internal"href=#pycommons.io.path.Path.is_dir title=pycommons.io.path.Path.is_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_dir()</span></code></a> internally and raises a <cite>ValueError</cite> if it returns <cite>False</cite>. It is therefore a shorthand for situations where you want to have an error if a path does not identify a directory.</p> <dl class="field-list simple"><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if this path does not reference an existing directory</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>enforce_dir</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>30</span><span class=p>:])</span>
<span class=go>does not identify a directory.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>getcwd</span><span class=p>())</span><span class=o>.</span><span class=n>enforce_dir</span><span class=p>()</span>   <span class=c1># nothing happens</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.enforce_file><span class="sig-name descname"><span class=pre>enforce_file</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.enforce_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.enforce_file>¶</a><dd><p>Raise an error if the path does not reference an existing file.</p> <p>This function uses <a class="reference internal"href=#pycommons.io.path.Path.is_file title=pycommons.io.path.Path.is_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_file()</span></code></a> internally and raises a <cite>ValueError</cite> if it returns <cite>False</cite>. It is therefore a shorthand for situations where you want to have an error if a path does not identify a file.</p> <dl class="field-list simple"><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if this path does not reference an existing file</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>enforce_file</span><span class=p>()</span>   <span class=c1># nothing happens</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>getcwd</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>getcwd</span><span class=p>())</span><span class=o>.</span><span class=n>enforce_file</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>25</span><span class=p>:])</span>
<span class=go>does not identify a file.</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.ensure_dir_exists><span class="sig-name descname"><span class=pre>ensure_dir_exists</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.ensure_dir_exists><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.ensure_dir_exists>¶</a><dd><p>Make sure that the directory exists, create it otherwise.</p> <p>Method <a class="reference internal"href=#pycommons.io.path.Path.is_dir title=pycommons.io.path.Path.is_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_dir()</span></code></a> checks whether the path identifies an existing directory, method <a class="reference internal"href=#pycommons.io.path.Path.enforce_dir title=pycommons.io.path.Path.enforce_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_dir()</span></code></a> raises an error if not, and this method creates the directory if it does not exist.</p> <dl class="field-list simple"><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the directory did not exist and creation failed</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>  <span class=c1># nothing happens</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a directory"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>))</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"Error when trying to create directory"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkdtemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>rmdir</span> <span class=k>as</span> <span class=n>osrmdirx</span>
<span class=gp>>>> </span><span class=n>td</span> <span class=o>=</span> <span class=n>mkdtemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>td</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>td</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>td</span><span class=p>)</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>"a"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>p2</span> <span class=o>=</span> <span class=n>p</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>"b"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p2</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>p2</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p2</span><span class=o>.</span><span class=n>ensure_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>p2</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.ensure_file_exists><span class="sig-name descname"><span class=pre>ensure_file_exists</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.ensure_file_exists><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.ensure_file_exists>¶</a><dd><p>Atomically ensure that the file exists and create it otherwise.</p> <p>While <a class="reference internal"href=#pycommons.io.path.Path.is_file title=pycommons.io.path.Path.is_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_file()</span></code></a> checks if the path identifies an existing file and <a class="reference internal"href=#pycommons.io.path.Path.enforce_file title=pycommons.io.path.Path.enforce_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_file()</span></code></a> raises an error if it does not, this method here creates the file if it does not exist. The method can only create the file if the directory already exists.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if the file already existed and <cite>False</cite> if it was newly and atomically created.</p><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p>ValueError if anything goes wrong during the file creation</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_file_exists</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>ensure_file_exists</span><span class=p>()</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"??"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a file."</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>),</span> <span class=s2>"a"</span><span class=p>),</span> <span class=s2>"b"</span><span class=p>))</span><span class=o>.</span><span class=n>ensure_file_exists</span><span class=p>()</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"??"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"Error when trying to create file"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.ensure_parent_dir_exists><span class="sig-name descname"><span class=pre>ensure_parent_dir_exists</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.ensure_parent_dir_exists><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.ensure_parent_dir_exists>¶</a><dd><p>Make sure that the parent directory exists, create it otherwise.</p> <p>This path may identify a file or directory to be created that does not yet exist. The parent directory of this path is ensured to exist, i.e., if it already exists, nothing happens, but if it does not yet exist, it is created. If the parent directory cannot be created, a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><code class="xref py py-class docutils literal notranslate"><span class=pre>ValueError</span></code></a> is raised.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the parent dir</p><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the directory did not exist and creation failed</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>_</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>  <span class=c1># nothing happens</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>_</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=vm>__file__</span><span class=p>,</span> <span class=s2>"a"</span><span class=p>))</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a directory"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkdtemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>rmdir</span> <span class=k>as</span> <span class=n>osrmdirx</span>
<span class=gp>>>> </span><span class=n>td</span> <span class=o>=</span> <span class=n>mkdtemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>tf</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>join</span><span class=p>(</span><span class=n>td</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>_</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>tf</span><span class=p>))</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>_</span> <span class=o>=</span> <span class=n>tf</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>tf</span><span class=p>))</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>td</span> <span class=o>=</span> <span class=n>mkdtemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>td2</span> <span class=o>=</span> <span class=n>join</span><span class=p>(</span><span class=n>td</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>tf</span> <span class=o>=</span> <span class=n>join</span><span class=p>(</span><span class=n>td2</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>_</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>td</span> <span class=o>=</span> <span class=n>mkdtemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>td2</span> <span class=o>=</span> <span class=n>join</span><span class=p>(</span><span class=n>td</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>td3</span> <span class=o>=</span> <span class=n>join</span><span class=p>(</span><span class=n>td2</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td3</span><span class=p>)</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>tf</span> <span class=o>=</span> <span class=n>join</span><span class=p>(</span><span class=n>td3</span><span class=p>,</span> <span class=s2>"xxx"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>_</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>ensure_parent_dir_exists</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td3</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td3</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td2</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osrmdirx</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.exists><span class="sig-name descname"><span class=pre>exists</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.exists><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.exists>¶</a><dd><p>Check if this path identifies an existing file or directory.</p> <p>See also <a class="reference internal"href=#pycommons.io.path.Path.is_file title=pycommons.io.path.Path.is_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_file()</span></code></a> and <a class="reference internal"href=#pycommons.io.path.Path.is_dir title=pycommons.io.path.Path.is_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>is_dir()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if this path identifies an existing file, <cite>False</cite> otherwise.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osxclose</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremove</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osxclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>osremove</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>exists</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.is_dir><span class="sig-name descname"><span class=pre>is_dir</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.is_dir><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.is_dir>¶</a><dd><p>Check if this path identifies an existing directory.</p> <p>The method <a class="reference internal"href=#pycommons.io.path.Path.enforce_dir title=pycommons.io.path.Path.enforce_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_dir()</span></code></a> also checks this, but raises an exception if it is not <cite>True</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if this path identifies an existing directory, <cite>False</cite> otherwise.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>is_dir</span><span class=p>()</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>is_dir</span><span class=p>()</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.is_file><span class="sig-name descname"><span class=pre>is_file</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.is_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.is_file>¶</a><dd><p>Check if this path identifies an existing file.</p> <p>See also <a class="reference internal"href=#pycommons.io.path.Path.enforce_file title=pycommons.io.path.Path.enforce_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_file()</span></code></a>, which raises an error if the <cite>is_file</cite> is not <cite>True</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite> if this path identifies an existing file, <cite>False</cite> otherwise.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.list_dir><span class="sig-name descname"><span class=pre>list_dir</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>files</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>directories</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.list_dir><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.list_dir>¶</a><dd><p>List the files and/or sub-directories in this directory.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterator><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterator</span></code></a>[<a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>an iterable with the fully-qualified paths</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span><span class=p>,</span> <span class=n>mkdtemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osxclose</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>dir1</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>mkdtemp</span><span class=p>())</span>
<span class=gp>>>> </span><span class=n>dir2</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>mkdtemp</span><span class=p>(</span><span class=nb>dir</span><span class=o>=</span><span class=n>dir1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>dir3</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>mkdtemp</span><span class=p>(</span><span class=nb>dir</span><span class=o>=</span><span class=n>dir1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf1</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>(</span><span class=nb>dir</span><span class=o>=</span><span class=n>dir1</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf2</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>(</span><span class=nb>dir</span><span class=o>=</span><span class=n>dir1</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>file1</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf1</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>file2</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf2</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>set</span><span class=p>(</span><span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>())</span> <span class=o>==</span> <span class=p>{</span><span class=n>dir2</span><span class=p>,</span> <span class=n>dir3</span><span class=p>,</span> <span class=n>file1</span><span class=p>,</span> <span class=n>file2</span><span class=p>}</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>set</span><span class=p>(</span><span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=n>files</span><span class=o>=</span><span class=kc>False</span><span class=p>))</span> <span class=o>==</span> <span class=p>{</span><span class=n>dir2</span><span class=p>,</span> <span class=n>dir3</span><span class=p>}</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>set</span><span class=p>(</span><span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=n>directories</span><span class=o>=</span><span class=kc>False</span><span class=p>))</span> <span class=o>==</span> <span class=p>{</span><span class=n>file1</span><span class=p>,</span> <span class=n>file2</span><span class=p>}</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>files should be an instance of bool but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>files should be an instance of bool but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>directories should be an instance of bool but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>directories should be an instance of bool but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>dir1</span><span class=o>.</span><span class=n>list_dir</span><span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>files and directories cannot both be False.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>delete_path</span><span class=p>(</span><span class=n>dir1</span><span class=p>)</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.open_for_read><span class="sig-name descname"><span class=pre>open_for_read</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.open_for_read><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.open_for_read>¶</a><dd><p>Open this file for reading text.</p> <p>The resulting text stream will automatically use the right encoding and take any encoding error serious. If the path does not identify an existing file, an exception is thrown.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIOBase</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the file open for reading</p><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the path does not identify a file</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>open_for_read</span><span class=p>()</span> <span class=k>as</span> <span class=n>rd</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=nb>len</span><span class=p>(</span><span class=n>rd</span><span class=o>.</span><span class=n>readline</span><span class=p>())</span><span class=si>}</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>rd</span><span class=o>.</span><span class=n>readline</span><span class=p>()</span><span class=si>!r}</span><span class=s2>"</span><span class=p>)</span>
<span class=go>4</span>
<span class=go>'The class `Path` for handling paths to files and directories.\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>open_for_read</span><span class=p>():</span>
<span class=gp>... </span>        <span class=k>pass</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>25</span><span class=p>:])</span>
<span class=go>does not identify a file.</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.open_for_write><span class="sig-name descname"><span class=pre>open_for_write</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.open_for_write><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.open_for_write>¶</a><dd><p>Open the file for writing UTF-8 encoded text.</p> <p>If the path cannot be opened for writing, some error will be raised.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIOBase</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the text io wrapper for writing</p><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the path does not identify a file or such a file cannot be created</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremovex</span>
<span class=gp>>>> </span><span class=n>h</span><span class=p>,</span> <span class=n>p</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>open_for_write</span><span class=p>()</span> <span class=k>as</span> <span class=n>wd</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>wd</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>"1234"</span><span class=p>)</span>
<span class=go>4</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=go>'1234'</span>
<span class=gp>>>> </span><span class=n>osremovex</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>open_for_write</span><span class=p>()</span> <span class=k>as</span> <span class=n>wd</span><span class=p>:</span>
<span class=gp>... </span>        <span class=k>pass</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a file."</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.read_all_str><span class="sig-name descname"><span class=pre>read_all_str</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.read_all_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.read_all_str>¶</a><dd><p>Read a file as a single string.</p> <p>Read the complete contents of a file as a single string. If the file is empty, an exception will be raised. No modification is applied to the text that is read.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the single string of text</p><dt class=field-odd>Raises<span class=colon>:</span><dd class=field-odd><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the path does not identify a file or if the file it identifies is empty</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()[</span><span class=mi>4</span><span class=p>:</span><span class=mi>30</span><span class=p>]</span>
<span class=go>'The class `Path` for handl'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>25</span><span class=p>:])</span>
<span class=go>does not identify a file.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremovex</span>
<span class=gp>>>> </span><span class=n>h</span><span class=p>,</span> <span class=n>p</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>19</span><span class=p>:])</span>
<span class=go>' contains no text.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tx</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>tx</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>"aa</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>tx</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>" bb   "</span><span class=p>)</span>
<span class=go>3</span>
<span class=go>6</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=go>'aa\n bb   '</span>
<span class=gp>>>> </span><span class=n>osremovex</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.relative_to><span class="sig-name descname"><span class=pre>relative_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>base_path</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.relative_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.relative_to>¶</a><dd><p>Compute a relative path of this path towards the given base path.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>base_path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>a relative path</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if this path is not inside <cite>base_path</cite> or the relativization result is otherwise invalid</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>f</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>d1</span> <span class=o>=</span> <span class=n>directory_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>f</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>d2</span> <span class=o>=</span> <span class=n>directory_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>d1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>d3</span> <span class=o>=</span> <span class=n>directory_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=n>d2</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>f</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
<span class=go>'path.py'</span>
<span class=gp>>>> </span><span class=n>f</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d2</span><span class=p>)</span>
<span class=go>'io/path.py'</span>
<span class=gp>>>> </span><span class=n>f</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d3</span><span class=p>)</span>
<span class=go>'pycommons/io/path.py'</span>
<span class=gp>>>> </span><span class=n>d1</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d3</span><span class=p>)</span>
<span class=go>'pycommons/io'</span>
<span class=gp>>>> </span><span class=n>d1</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
<span class=go>'.'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>d1</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>30</span><span class=p>:])</span>
<span class=go>does not identify a directory.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>d2</span><span class=o>.</span><span class=n>relative_to</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[</span><span class=o>-</span><span class=mi>21</span><span class=p>:])</span>
<span class=go>pycommons/pycommons'.</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.resolve_inside><span class="sig-name descname"><span class=pre>resolve_inside</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>relative_path</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.resolve_inside><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.resolve_inside>¶</a><dd><p>Resolve a relative path to an absolute path inside this path.</p> <p>Resolve the relative path inside this path. This path must identify a directory. The relative path cannot contain anything that makes it leave the directory, e.g., any <cite>“..”</cite>. The paths are joined and then it is enforced that this path must contain the result via <a class="reference internal"href=#pycommons.io.path.Path.enforce_contains title=pycommons.io.path.Path.enforce_contains><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_contains()</span></code></a> and otherwise an error is raised.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>relative_path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to resolve</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the resolved child path</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – If the <cite>relative_path</cite> is not a string.<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – If the <cite>relative_path</cite> would resolve to something outside of this path and/or if it is empty.</ul></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>"a.txt"</span><span class=p>)[</span><span class=o>-</span><span class=mi>5</span><span class=p>:]</span>
<span class=go>'a.txt'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>basename</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=n>basename</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span> <span class=o>==</span> <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>".."</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not contain"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>".."</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a directory"</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Relative path must not be empty.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span><span class=o>.</span><span class=n>resolve_inside</span><span class=p>(</span><span class=s2>" "</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Relative path must not start or end with white space, but ' ' does.</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.up><span class="sig-name descname"><span class=pre>up</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>levels</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>1</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.up><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.up>¶</a><dd><p>Go up the directory tree for a given number of times.</p> <p>Get a <cite>Path</cite> identifying the containing directory, or its containing directory, depending on the number of <cite>levels</cite> specified.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>levels</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>1</span></code>) – the number levels to go up: <cite>1</cite> for getting the directly containing directory, <cite>2</cite> for the next higher directory, and so on.</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the resulting path</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>f</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>()[</span><span class=o>-</span><span class=mi>13</span><span class=p>:])</span>
<span class=go>/pycommons/io</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=mi>1</span><span class=p>)[</span><span class=o>-</span><span class=mi>13</span><span class=p>:])</span>
<span class=go>/pycommons/io</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=mi>2</span><span class=p>)[</span><span class=o>-</span><span class=mi>10</span><span class=p>:])</span>
<span class=go>/pycommons</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>levels=0 is invalid, must be in 1..255.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>levels should be an instance of int but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=s1>'x'</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>levels should be an instance of int but is str, namely 'x'.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>f</span><span class=o>.</span><span class=n>up</span><span class=p>(</span><span class=mi>255</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>70</span><span class=p>])</span>
<span class=go>Cannot go up from directory '/' anymore when going up for 255 levels f</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=pycommons.io.path.Path.write_all_str><span class="sig-name descname"><span class=pre>write_all_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>contents</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#Path.write_all_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.Path.write_all_str>¶</a><dd><p>Write the given string to the file.</p> <p>The string <cite>contents</cite> is written to a file. If it does not end with <cite>n</cite>, then <cite>n</cite> will automatically be appended. No other changes are applied to <cite>contents</cite>. <cite>contents</cite> must be a <cite>str</cite> and it must not be empty.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>contents</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the contents to write</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if the contents are not a string or an <cite>Iterable</cite> of strings<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the path is not a file or it cannot be opened as a file or the <cite>contents</cite> are an empty string</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremovex</span>
<span class=gp>>>> </span><span class=n>h</span><span class=p>,</span> <span class=n>p</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>(</span><span class=n>text</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'NoneType'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>([</span><span class=s2>"a"</span><span class=p>])</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>))</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'list'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>a</span><span class=se>\n</span><span class=s2>b"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=go>'\na\nb\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=s2>" </span><span class=se>\n</span><span class=s2>a</span><span class=se>\n</span><span class=s2> b "</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>read_all_str</span><span class=p>()</span>
<span class=go>' \na\n b \n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>p</span><span class=p>)</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)[:</span><span class=mi>34</span><span class=p>])</span>
<span class=go>Cannot write empty content to file</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osremovex</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>Path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span><span class=o>.</span><span class=n>write_all_str</span><span class=p>(</span><span class=s2>"a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a file."</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl></dl><dl class="py data"><dt class="sig sig-object py"id=pycommons.io.path.UTF8><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>UTF8</span></span><span class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Final><span class=pre>Final</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span><span class=property><span class=w> </span><span class=p><span class=pre>=</span></span><span class=w> </span><span class=pre>'utf-8-sig'</span></span><a title="Link to this definition"class=headerlink href=#pycommons.io.path.UTF8>¶</a><dd><p>the UTF-8 encoding</p></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.path.delete_path><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>delete_path</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>path</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#delete_path><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.delete_path>¶</a><dd><p>Delete a path, completely, and recursively.</p> <p>This is intentionally inserted as an additional function and not a member of the <a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a> in order make the deletion more explicit and to avoid any form of accidental deleting. This function will not raise an error if the file deletion fails.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – The path to be deleted</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if <cite>path</cite> does not refer to an existing file or directory<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>path</cite> is not a string</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span><span class=p>,</span> <span class=n>mkdtemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osxclose</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isfile</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>delete_path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isfile</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>delete_path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"is neither file nor directory."</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>td</span> <span class=o>=</span> <span class=n>mkdtemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>delete_path</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>isdir</span><span class=p>(</span><span class=n>td</span><span class=p>)</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>delete_path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"is neither file nor directory."</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.path.directory_path><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>directory_path</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>pathstr</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#directory_path><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.directory_path>¶</a><dd><p>Get a path identifying an existing directory.</p> <p>This is a shorthand for creating a <a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a> and then invoking <a class="reference internal"href=#pycommons.io.path.Path.enforce_dir title=pycommons.io.path.Path.enforce_dir><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_dir()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>pathstr</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the file</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>directory_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))[</span><span class=o>-</span><span class=mi>12</span><span class=p>:]</span>
<span class=go>'pycommons/io'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>directory_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a directory."</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.path.file_path><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>file_path</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>pathstr</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#file_path><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.file_path>¶</a><dd><p>Get a path identifying an existing file.</p> <p>This is a shorthand for creating a <a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a> and then invoking <a class="reference internal"href=#pycommons.io.path.Path.enforce_file title=pycommons.io.path.Path.enforce_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>enforce_file()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>pathstr</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the file</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>file_path</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)[</span><span class=o>-</span><span class=mi>20</span><span class=p>:]</span>
<span class=go>'pycommons/io/path.py'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>file_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=s2>"does not identify a file."</span> <span class=ow>in</span> <span class=nb>str</span><span class=p>(</span><span class=n>ve</span><span class=p>))</span>
<span class=go>True</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.path.line_writer><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>line_writer</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>output</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#line_writer><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.line_writer>¶</a><dd><p>Create a line-writing <code class="xref py py-class docutils literal notranslate"><span class=pre>typing.Callable</span></code> from an output stream.</p> <p>This function takes any string passed to it and writes it to the <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TextIO><code class="xref py py-class docutils literal notranslate"><span class=pre>typing.TextIO</span></code></a> instance. If the string does not end in <cite>“n”</cite>, it then writes <cite>“n”</cite> as well to terminate the line. If something that is not a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> is passed in, it will throw a <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><code class="xref py py-class docutils literal notranslate"><span class=pre>TypeError</span></code></a>.</p> <p>Notice that <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase.write><code class="xref py py-meth docutils literal notranslate"><span class=pre>write()</span></code></a> and <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.IOBase.writelines><code class="xref py py-meth docutils literal notranslate"><span class=pre>writelines()</span></code></a> of class <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>io.TextIOBase</span></code></a> do not terminate lines that are written with a <cite>“n”</cite>. This means that, unless you manually make sure that all lines are terminated by <cite>“n”</cite>, they get written as a single line instead of multiple lines. To solve this issue conveniently, we provide the functions <a class="reference internal"href=#pycommons.io.path.line_writer title=pycommons.io.path.line_writer><code class="xref py py-func docutils literal notranslate"><span class=pre>line_writer()</span></code></a>, which wraps the <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase.write><code class="xref py py-meth docutils literal notranslate"><span class=pre>write()</span></code></a> into another function, which automatically terminates all strings passed to it with <cite>“n”</cite> unless they already end in <cite>“n”</cite>, and <a class="reference internal"href=#pycommons.io.path.write_lines title=pycommons.io.path.write_lines><code class="xref py py-func docutils literal notranslate"><span class=pre>write_lines()</span></code></a>, which iterates over a sequence of strings and writes each of them to a given <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TextIO><code class="xref py py-class docutils literal notranslate"><span class=pre>typing.TextIO</span></code></a> and automatically adds the <cite>“n”</cite> terminator to each of them if necessary.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>output</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TextIO><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIO</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIOBase</span></code></a></span>) – the output stream</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>an instance of <code class="xref py py-class docutils literal notranslate"><span class=pre>typing.Callable</span></code> that will write each string it receives as a properly terminated line to the output stream.</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>output</cite> is not an instance of <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>io.TextIOBase</span></code></a>.</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osclose</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremove</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"123"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"123</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"123"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"456"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123\n', '456\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"123  "</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"  456"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123  \n', '\n', '  456\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"123  </span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"</span><span class=se>\n</span><span class=s2>"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>w</span><span class=p>(</span><span class=s2>"  456"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123  \n', '\n', '  456\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>        <span class=n>w</span><span class=p>(</span><span class=s2>"123  "</span><span class=p>)</span>
<span class=gp>... </span>        <span class=n>w</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>te</span><span class=p>)[:</span><span class=o>-</span><span class=mi>10</span><span class=p>])</span>
<span class=go>descriptor 'endswith' for 'str' objects doesn't apply to a 'NoneTy</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>w</span> <span class=o>=</span> <span class=n>line_writer</span><span class=p>(</span><span class=n>out</span><span class=p>)</span>
<span class=gp>... </span>        <span class=n>w</span><span class=p>(</span><span class=s2>"123  "</span><span class=p>)</span>
<span class=gp>... </span>        <span class=n>w</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'endswith' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osremove</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>line_writer</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>output should be an instance of io.TextIOBase but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>line_writer</span><span class=p>(</span><span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>output should be an instance of io.TextIOBase but is None.</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.path.write_lines><span class="sig-prename descclassname"><span class=pre>pycommons.io.path.</span></span><span class="sig-name descname"><span class=pre>write_lines</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>lines</span></span></em>, <em class=sig-param><span class=n><span class=pre>output</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/path.html#write_lines><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.path.write_lines>¶</a><dd><p>Write all the lines in the given <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>typing.Iterable</span></code></a> to the output.</p> <p>This function takes care of properly terminating lines using <cite>“n”</cite> when writing them to an output and also performs type-checking.</p> <p>Notice that <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase.write><code class="xref py py-meth docutils literal notranslate"><span class=pre>write()</span></code></a> and <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.IOBase.writelines><code class="xref py py-meth docutils literal notranslate"><span class=pre>writelines()</span></code></a> of class <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>io.TextIOBase</span></code></a> do not terminate lines that are written with a <cite>“n”</cite>. This means that, unless you manually make sure that all lines are terminated by <cite>“n”</cite>, they get written as a single line instead of multiple lines. To solve this issue conveniently, we provide the functions <a class="reference internal"href=#pycommons.io.path.line_writer title=pycommons.io.path.line_writer><code class="xref py py-func docutils literal notranslate"><span class=pre>line_writer()</span></code></a>, which wraps the <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase.write><code class="xref py py-meth docutils literal notranslate"><span class=pre>write()</span></code></a> into another function, which automatically terminates all strings passed to it with <cite>“n”</cite> unless they already end in <cite>“n”</cite>, and <a class="reference internal"href=#pycommons.io.path.write_lines title=pycommons.io.path.write_lines><code class="xref py py-func docutils literal notranslate"><span class=pre>write_lines()</span></code></a>, which iterates over a sequence of strings and writes each of them to a given <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TextIO><code class="xref py py-class docutils literal notranslate"><span class=pre>typing.TextIO</span></code></a> and automatically adds the <cite>“n”</cite> terminator to each of them if necessary.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>lines</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>) – the lines<li><p><strong>output</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.TextIO><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIO</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/io.html#io.TextIOBase><code class="xref py py-class docutils literal notranslate"><span class=pre>TextIOBase</span></code></a></span>) – the output</ul><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – If anything is of the wrong type.</p><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>((</span><span class=s2>"123"</span><span class=p>,</span> <span class=s2>"456"</span><span class=p>),</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
<span class=go>456</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>((</span><span class=s2>"123</span><span class=se>\n</span><span class=s2>"</span><span class=p>,</span> <span class=s2>"456"</span><span class=p>),</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
<span class=go>456</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>io</span><span class=w> </span><span class=kn>import</span> <span class=n>StringIO</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>((</span><span class=s2>"123</span><span class=se>\n</span><span class=s2>"</span><span class=p>,</span> <span class=s2>"456</span><span class=se>\n</span><span class=s2>"</span><span class=p>),</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
<span class=go>456</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"123"</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"123</span><span class=se>\n</span><span class=s2>"</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=s2>"123"</span><span class=p>,</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>1</span>
<span class=go>2</span>
<span class=go>3</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>((</span><span class=n>sss</span> <span class=k>for</span> <span class=n>sss</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>"123"</span><span class=p>,</span> <span class=s2>"abc"</span><span class=p>]),</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
<span class=go>123</span>
<span class=go>abc</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=s2>""</span><span class=p>,</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>())</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>tempfile</span><span class=w> </span><span class=kn>import</span> <span class=n>mkstemp</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>close</span> <span class=k>as</span> <span class=n>osclose</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os</span><span class=w> </span><span class=kn>import</span> <span class=n>remove</span> <span class=k>as</span> <span class=n>osremove</span>
<span class=gp>>>> </span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>tf</span><span class=p>)</span> <span class=o>=</span> <span class=n>mkstemp</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>osclose</span><span class=p>(</span><span class=n>h</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"123"</span><span class=p>],</span> <span class=n>out</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>inp</span><span class=p>))</span>
<span class=go>['123\n']</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=n>out</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>inp</span><span class=o>.</span><span class=n>read</span><span class=p>()))</span>
<span class=go>'\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"</span><span class=se>\n</span><span class=s2>"</span><span class=p>],</span> <span class=n>out</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>inp</span><span class=o>.</span><span class=n>read</span><span class=p>()))</span>
<span class=go>'\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"wt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>out</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>" </span><span class=se>\n</span><span class=s2>"</span><span class=p>],</span> <span class=n>out</span><span class=p>)</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>tf</span><span class=p>,</span> <span class=s2>"rt"</span><span class=p>)</span> <span class=k>as</span> <span class=n>inp</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>inp</span><span class=o>.</span><span class=n>read</span><span class=p>()))</span>
<span class=go>' \n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>osremove</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"</span><span class=se>\n</span><span class=s2>"</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()))</span>
<span class=go>'\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>StringIO</span><span class=p>()</span> <span class=k>as</span> <span class=n>sio</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>""</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()))</span>
<span class=go>'\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>lines should be an instance of typing.Iterable but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=mi>123</span><span class=p>,</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>lines should be an instance of typing.Iterable but is int, namely 123.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=s2>"sdf"</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'endswith' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>sio</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>([</span><span class=s2>"sdf"</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=n>sio</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'endswith' for 'str' objects doesn't apply to a 'int' object</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=n>sio</span><span class=o>.</span><span class=n>getvalue</span><span class=p>()))</span>
<span class=go>'sdf\n'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>output should be an instance of io.TextIOBase but is None.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=s2>"x"</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>output should be an instance of io.TextIOBase but is int, namely 1.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>write_lines</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>lines should be an instance of typing.Iterable but is int, namely 2.</span>
</pre></div></div></dl></section><section id=module-pycommons.io.temp><span id=pycommons-io-temp-module></span><h2>pycommons.io.temp module<a title="Link to this heading"class=headerlink href=#module-pycommons.io.temp>¶</a></h2><p>Automatically deleted temporary files and directories.<p>This module provides two classes, <a class="reference internal"href=#pycommons.io.temp.temp_dir title=pycommons.io.temp.temp_dir><code class="xref py py-func docutils literal notranslate"><span class=pre>temp_dir()</span></code></a> for temporary directories and <a class="reference internal"href=#pycommons.io.temp.temp_file title=pycommons.io.temp.temp_file><code class="xref py py-func docutils literal notranslate"><span class=pre>temp_file()</span></code></a> for temporary files. Both of them implement the <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/typing.html#typing.ContextManager><code class="xref py py-class docutils literal notranslate"><span class=pre>typing.ContextManager</span></code></a> protocol and will be deleted when going out of scope.<dl class="py class"><dt class="sig sig-object py"id=pycommons.io.temp.TempPath><span class=property><span class=k><span class=pre>class</span></span><span class=w> </span></span><span class="sig-prename descclassname"><span class=pre>pycommons.io.temp.</span></span><span class="sig-name descname"><span class=pre>TempPath</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>value</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/temp.html#TempPath><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.temp.TempPath>¶</a><dd><p>Bases: <a class="reference internal"href=#pycommons.io.path.Path title=pycommons.io.path.Path><code class="xref py py-class docutils literal notranslate"><span class=pre>Path</span></code></a></p> <p>A path to a temp file or directory for use in a <cite>with</cite> statement.</p></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.temp.temp_dir><span class="sig-prename descclassname"><span class=pre>pycommons.io.temp.</span></span><span class="sig-name descname"><span class=pre>temp_dir</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>directory</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/temp.html#temp_dir><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.temp.temp_dir>¶</a><dd><p>Create the temporary directory.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>directory</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – an optional root directory</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if <cite>directory</cite> is not <cite>None</cite> but also no <cite>str</cite></p><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.temp.TempPath title=pycommons.io.temp.TempPath><code class="xref py py-class docutils literal notranslate"><span class=pre>TempPath</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_dir</span><span class=p>()</span> <span class=k>as</span> <span class=n>td</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>pass</span>
<span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>temp_dir</span><span class=p>(</span><span class=mi>1</span><span class=p>):</span>
<span class=gp>... </span>        <span class=k>pass</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_dir</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span> <span class=k>as</span> <span class=n>td</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>pass</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=pycommons.io.temp.temp_file><span class="sig-prename descclassname"><span class=pre>pycommons.io.temp.</span></span><span class="sig-name descname"><span class=pre>temp_file</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>directory</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>prefix</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em>, <em class=sig-param><span class=n><span class=pre>suffix</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/pycommons/io/temp.html#temp_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#pycommons.io.temp.temp_file>¶</a><dd><p>Create a temporary file that will be deleted when going out of scope.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>directory</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – a root directory or <cite>TempDir</cite> instance<li><p><strong>prefix</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – an optional prefix<li><p><strong>suffix</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a> | <a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – an optional suffix, e.g., <cite>.txt</cite></ul><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any of the parameters does not fulfill the type contract<li><p><a class="reference external"title="(in Python v3.14)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the <cite>prefix</cite> or <cite>suffix</cite> are specified, but are empty strings, or if <cite>directory</cite> does not identify an existing directory although not being <cite>None</cite></ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#pycommons.io.temp.TempPath title=pycommons.io.temp.TempPath><code class="xref py py-class docutils literal notranslate"><span class=pre>TempPath</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>()</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor '__len__' requires a 'str' object but received a 'int'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Path must not be empty.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>TypeError</span> <span class=k>as</span> <span class=n>te</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>te</span><span class=p>)</span>
<span class=go>descriptor 'strip' for 'str' objects doesn't apply to a 'int' object</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Stripped prefix cannot be empty if specified.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>""</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Stripped suffix cannot be empty if specified.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"bla."</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Stripped suffix must not end with '.', but 'bla.' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"bl/a"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Suffix must contain neither '/' nor '\', but 'bl/a' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"b</span><span class=se>\\</span><span class=s2>la"</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Suffix must contain neither '/' nor '\', but 'b\\la' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"bl/a"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Prefix must contain neither '/' nor '\', but 'bl/a' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>try</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"b</span><span class=se>\\</span><span class=s2>la"</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
<span class=gp>... </span><span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>ve</span><span class=p>:</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=n>ve</span><span class=p>)</span>
<span class=go>Prefix must contain neither '/' nor '\', but 'b\\la' does.</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>pycommons.io.path</span><span class=w> </span><span class=kn>import</span> <span class=n>file_path</span>
<span class=gp>>>> </span><span class=n>bd</span> <span class=o>=</span> <span class=n>directory_path</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=n>bd</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>enforce_contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>bd</span> <span class=ow>in</span> <span class=n>tf</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>basename</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"pre"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=s2>"pre"</span> <span class=ow>in</span> <span class=n>tf</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>basename</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>"pre"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>False</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=n>bd</span><span class=p>,</span> <span class=s2>"pre"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=s2>"pre"</span> <span class=ow>in</span> <span class=n>tf</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>basename</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>"pre"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=n>bd</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"suf"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=s2>"suf"</span> <span class=ow>in</span> <span class=n>tf</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=s2>"suf"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=s2>"suf"</span> <span class=ow>in</span> <span class=n>tf</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=s2>"pref"</span><span class=p>,</span> <span class=s2>"suf"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>"pref"</span><span class=p>)</span> <span class=o><</span> <span class=n>tf</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>basename</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>"pref"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=k>with</span> <span class=n>temp_file</span><span class=p>(</span><span class=n>bd</span><span class=p>,</span> <span class=s2>"pref"</span><span class=p>,</span> <span class=s2>"suf"</span><span class=p>)</span> <span class=k>as</span> <span class=n>tf</span><span class=p>:</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>"pref"</span><span class=p>)</span> <span class=o><</span> <span class=n>tf</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>tf</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>"suf"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>basename</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>"pref"</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>bd</span><span class=o>.</span><span class=n>contains</span><span class=p>(</span><span class=n>tf</span><span class=p>)</span>
<span class=gp>... </span>    <span class=n>p</span> <span class=o>=</span> <span class=n>file_path</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=sa>f</span><span class=s2>"</span><span class=si>{</span><span class=n>tf</span><span class=si>}</span><span class=s2>"</span><span class=p>))</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span>
<span class=go>False</span>
</pre></div></div></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>pycommons.io package</a><ul><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-pycommons.io.arguments>pycommons.io.arguments module</a><ul><li><a class="reference internal"href=#pycommons.io.arguments.make_argparser><code class="docutils literal notranslate"><span class=pre>make_argparser()</span></code></a><li><a class="reference internal"href=#pycommons.io.arguments.make_epilog><code class="docutils literal notranslate"><span class=pre>make_epilog()</span></code></a><li><a class="reference internal"href=#pycommons.io.arguments.pycommons_argparser><code class="docutils literal notranslate"><span class=pre>pycommons_argparser()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.io.console>pycommons.io.console module</a><ul><li><a class="reference internal"href=#pycommons.io.console.logger><code class="docutils literal notranslate"><span class=pre>logger()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.io.csv>pycommons.io.csv module</a><ul><li><a class="reference internal"href=#pycommons.io.csv.COMMENT_START><code class="docutils literal notranslate"><span class=pre>COMMENT_START</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CSV_SEPARATOR><code class="docutils literal notranslate"><span class=pre>CSV_SEPARATOR</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvReader><code class="docutils literal notranslate"><span class=pre>CsvReader</span></code></a><ul><li><a class="reference internal"href=#pycommons.io.csv.CsvReader.parse_optional_row><code class="docutils literal notranslate"><span class=pre>CsvReader.parse_optional_row()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvReader.parse_row><code class="docutils literal notranslate"><span class=pre>CsvReader.parse_row()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvReader.read><code class="docutils literal notranslate"><span class=pre>CsvReader.read()</span></code></a></ul><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter><code class="docutils literal notranslate"><span class=pre>CsvWriter</span></code></a><ul><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_column_titles><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_column_titles()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_footer_bottom_comments><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_footer_bottom_comments()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_footer_comments><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_footer_comments()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_header_comments><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_header_comments()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_optional_row><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_optional_row()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.get_row><code class="docutils literal notranslate"><span class=pre>CsvWriter.get_row()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.scope><code class="docutils literal notranslate"><span class=pre>CsvWriter.scope</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.CsvWriter.write><code class="docutils literal notranslate"><span class=pre>CsvWriter.write()</span></code></a></ul><li><a class="reference internal"href=#pycommons.io.csv.S><code class="docutils literal notranslate"><span class=pre>S</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.SCOPE_SEPARATOR><code class="docutils literal notranslate"><span class=pre>SCOPE_SEPARATOR</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.T><code class="docutils literal notranslate"><span class=pre>T</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.U><code class="docutils literal notranslate"><span class=pre>U</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_column><code class="docutils literal notranslate"><span class=pre>csv_column()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_column_or_none><code class="docutils literal notranslate"><span class=pre>csv_column_or_none()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_read><code class="docutils literal notranslate"><span class=pre>csv_read()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_scope><code class="docutils literal notranslate"><span class=pre>csv_scope()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_select_scope><code class="docutils literal notranslate"><span class=pre>csv_select_scope()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_select_scope_or_none><code class="docutils literal notranslate"><span class=pre>csv_select_scope_or_none()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_str_or_none><code class="docutils literal notranslate"><span class=pre>csv_str_or_none()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_val_or_none><code class="docutils literal notranslate"><span class=pre>csv_val_or_none()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.csv_write><code class="docutils literal notranslate"><span class=pre>csv_write()</span></code></a><li><a class="reference internal"href=#pycommons.io.csv.pycommons_footer_bottom_comments><code class="docutils literal notranslate"><span class=pre>pycommons_footer_bottom_comments()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.io.parser>pycommons.io.parser module</a><ul><li><a class="reference internal"href=#pycommons.io.parser.Parser><code class="docutils literal notranslate"><span class=pre>Parser</span></code></a><ul><li><a class="reference internal"href=#pycommons.io.parser.Parser.parse><code class="docutils literal notranslate"><span class=pre>Parser.parse()</span></code></a><li><a class="reference internal"href=#pycommons.io.parser.Parser.parse_directory><code class="docutils literal notranslate"><span class=pre>Parser.parse_directory()</span></code></a><li><a class="reference internal"href=#pycommons.io.parser.Parser.parse_file><code class="docutils literal notranslate"><span class=pre>Parser.parse_file()</span></code></a></ul><li><a class="reference internal"href=#pycommons.io.parser.T><code class="docutils literal notranslate"><span class=pre>T</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.io.path>pycommons.io.path module</a><ul><li><a class="reference internal"href=#pycommons.io.path.Path><code class="docutils literal notranslate"><span class=pre>Path</span></code></a><ul><li><a class="reference internal"href=#pycommons.io.path.Path.basename><code class="docutils literal notranslate"><span class=pre>Path.basename()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.contains><code class="docutils literal notranslate"><span class=pre>Path.contains()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.create_file_or_truncate><code class="docutils literal notranslate"><span class=pre>Path.create_file_or_truncate()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.enforce_contains><code class="docutils literal notranslate"><span class=pre>Path.enforce_contains()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.enforce_dir><code class="docutils literal notranslate"><span class=pre>Path.enforce_dir()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.enforce_file><code class="docutils literal notranslate"><span class=pre>Path.enforce_file()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.ensure_dir_exists><code class="docutils literal notranslate"><span class=pre>Path.ensure_dir_exists()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.ensure_file_exists><code class="docutils literal notranslate"><span class=pre>Path.ensure_file_exists()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.ensure_parent_dir_exists><code class="docutils literal notranslate"><span class=pre>Path.ensure_parent_dir_exists()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.exists><code class="docutils literal notranslate"><span class=pre>Path.exists()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.is_dir><code class="docutils literal notranslate"><span class=pre>Path.is_dir()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.is_file><code class="docutils literal notranslate"><span class=pre>Path.is_file()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.list_dir><code class="docutils literal notranslate"><span class=pre>Path.list_dir()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.open_for_read><code class="docutils literal notranslate"><span class=pre>Path.open_for_read()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.open_for_write><code class="docutils literal notranslate"><span class=pre>Path.open_for_write()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.read_all_str><code class="docutils literal notranslate"><span class=pre>Path.read_all_str()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.relative_to><code class="docutils literal notranslate"><span class=pre>Path.relative_to()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.resolve_inside><code class="docutils literal notranslate"><span class=pre>Path.resolve_inside()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.up><code class="docutils literal notranslate"><span class=pre>Path.up()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.Path.write_all_str><code class="docutils literal notranslate"><span class=pre>Path.write_all_str()</span></code></a></ul><li><a class="reference internal"href=#pycommons.io.path.UTF8><code class="docutils literal notranslate"><span class=pre>UTF8</span></code></a><li><a class="reference internal"href=#pycommons.io.path.delete_path><code class="docutils literal notranslate"><span class=pre>delete_path()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.directory_path><code class="docutils literal notranslate"><span class=pre>directory_path()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.file_path><code class="docutils literal notranslate"><span class=pre>file_path()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.line_writer><code class="docutils literal notranslate"><span class=pre>line_writer()</span></code></a><li><a class="reference internal"href=#pycommons.io.path.write_lines><code class="docutils literal notranslate"><span class=pre>write_lines()</span></code></a></ul><li><a class="reference internal"href=#module-pycommons.io.temp>pycommons.io.temp module</a><ul><li><a class="reference internal"href=#pycommons.io.temp.TempPath><code class="docutils literal notranslate"><span class=pre>TempPath</span></code></a><li><a class="reference internal"href=#pycommons.io.temp.temp_dir><code class="docutils literal notranslate"><span class=pre>temp_dir()</span></code></a><li><a class="reference internal"href=#pycommons.io.temp.temp_file><code class="docutils literal notranslate"><span class=pre>temp_file()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=pycommons.ds.html>pycommons.ds package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=pycommons.math.html>pycommons.math package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/pycommons.io.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`;</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="pycommons.math package"href=pycommons.math.html>next</a> |<li class=right><a title="pycommons.ds package"href=pycommons.ds.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>pycommons 0.8.89 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>pycommons</a> »<li class="nav-item nav-item-2"><a href=pycommons.html>pycommons package</a> »<li class="nav-item nav-item-this"><a href>pycommons.io package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2026, Thomas Weise.</div>
